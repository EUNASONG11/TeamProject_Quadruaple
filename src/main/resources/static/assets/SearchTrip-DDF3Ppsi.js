import{g as E,R as T,r as a,c as k,b as D,u as A,j as e}from"./index-WSm8V2ST.js";import"./jwt-CcLdlPaZ.js";import{t as j}from"./tripAtom-D7EKvL5P.js";import"./SearchItems-D6tzS42f.js";import{a as N}from"./axios-upsvKRUO.js";import"./ContentIndex-CBTDmMDi.js";import{a as V}from"./pic-Bp3CpqNF.js";import{b as F}from"./TitleHeader-CGwkCU68.js";import{F as P}from"./index-B6azW7IG.js";import{a as B,b as v}from"./index-CVcjfV9d.js";import{I as L}from"./index-CkqEjpTn.js";import{R as S}from"./index-B5GccCGr.js";import"./Skeleton-BQ1iQ9oo.js";import"./button-DdYXoYhD.js";import"./Keyframes-BXC_0NBG.js";import"./ScheduleDay-BgqmVupp.js";import"./index-1EUDdVBk.js";import"./iconBase-C31Zs2Ot.js";import"./dayjs.min-B_Wydb6p.js";import"./PurePanel-BVZw4gEZ.js";import"./context-DbhbiqRO.js";import"./Overflow-BBxfpX5i.js";import"./ContextIsolator-D6Qa4Vnz.js";import"./CheckOutlined-DVpWJzl9.js";import"./CloseOutlined-BzJUIVo8.js";import"./useLocale-CiZtlZfJ.js";import"./index-DK3Dx2QH.js";import"./ExclamationCircleFilled-xsY2f4U_.js";import"./InfoCircleFilled-_br9GsSA.js";import"./KeyCode-DNlgD2sM.js";import"./index-C-bcgs0T.js";const w=[{type:null,name:"전체"},{type:"TOUR",name:"관광지"},{type:"STAY",name:"숙소"},{type:"RESTAUR",name:"맛집"},{type:"FEST",name:"축제"}],ve=()=>{const b=E("accessToken"),[n,z]=T(j);a.useEffect(()=>{console.log("trip",n)},[n]),k(j);const[y]=D(),o=parseInt(y.get("tripId"));a.useEffect(()=>{d(!0)},[]);const p=A(),_=t=>{console.log(t),p(`/contents/index?strfId=${t}`)},[i,H]=a.useState(0),[x,m]=a.useState({}),[O,d]=a.useState(!1),[u,I]=a.useState(""),[r,C]=a.useState(""),[f,R]=a.useState(0);a.useEffect(()=>{console.log("searchValue",r)},[r]),a.useEffect(()=>{},[f]);const $=async()=>{console.log("검색 리퀘스트 데이터",{trip_id:o,last_index:i});try{const c=(await N.get(`/api/search/strf-list-basic?trip_id=${o}&last_index=0`,{headers:{Authorization:`Bearer ${b}`}})).data;console.log("결과-입력 전:",c),m(c.data)}catch(s){console.log("결과-입력 전:",s)}},h=async(t=null)=>{const s={trip_id:o,last_index:i,category:t,search_word:r};console.log("검색 리퀘스트 데이터",s);try{const g=(await N.get(`/api/search/strf-list-word?trip_id=${o}&last_index=${i}&search_word=${r}`,s)).data;console.log("결과-입력 후:",g),m(g.data)}catch(c){console.log("결과-입력 후:",c)}};a.useEffect(()=>{$()},[]);const l=x==null?void 0:x.list;return e.jsxs("div",{className:"w-full flex flex-col gap-[30px]",children:[e.jsxs("div",{className:"w-full px-[32px] py-[30px] flex items-center gap-[40px] relative ",children:[e.jsx("div",{className:"text-[36px] cursor-pointer",onClick:()=>{p(-1)},children:e.jsx(F,{})}),e.jsx(L,{placeholder:"지금 어디로 여행을 떠나고 싶으신가요?",variant:"borderless",prefix:e.jsx(P,{className:"text-slate-400 text-2xl"}),allowClear:!0,onChange:t=>{I(t.target.value)},onKeyDown:t=>{t.code==="Enter"&&(C(t.target.value),d(!0),h())},value:u,className:`w-full h-[60px] px-[12px] ${u?"bg-white":"bg-slate-100"}`})]}),r?e.jsx("ul",{className:"flex gap-[10px]",children:w.map((t,s)=>e.jsx("li",{className:`cursor-pointer font-semibold text-[16px] w-[124px] flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${s===f?"bg-primary text-white":"bg-white text-slate-500"}`,onClick:()=>{R(s),h(w[s].type)},children:t.name},s))}):null,e.jsx("ul",{className:"px-[32px] py-[30px] flex flex-col gap-[30px]",children:(l==null?void 0:l.length)>0?l==null?void 0:l.map((t,s)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>{_(t.strfId)},children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px]",children:e.jsx("img",{src:`${V}${t.strfId}/${t.picTitle}`,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:t.title})}),e.jsx("div",{className:"flex gap-[5px] items-center"}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(S,{disabled:!0,count:1,value:t.ratingIn?1:0,style:{fontSize:"16px"}}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.averageRating}),e.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",t.ratingCnt.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:t.wishIn?e.jsx(B,{className:"text-secondary3 text-[16px]"}):e.jsx(v,{className:"text-slate-400 text-[16px]"})}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.wishCnt.toLocaleString()})]})]})]},t.strfId)):e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px]",children:e.jsx("img",{src:"public/images/logo_icon_4.png",alt:"thumbnail",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:"검색 결과가 없습니다."})}),e.jsx("div",{className:"flex gap-[5px] items-center"}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(S,{disabled:!0,count:1,value:0}),e.jsx("p",{className:"text-[12px] text-slate-500"}),e.jsx("p",{className:"text-[12px] text-slate-500"})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:e.jsx(v,{className:"text-slate-400"})}),e.jsx("p",{className:"text-[12px] text-slate-500"})]})]})]})})]})};export{ve as default};
