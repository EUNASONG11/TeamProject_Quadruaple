import{j as e,u as N,r as o,L as r,R as S,n as T,g as z,o as O}from"./index-BDH47TWw.js";import{a as $}from"./axios-upsvKRUO.js";import{h as C,i as U,j as L,H as D,I as H,k as Y,B as M,C as V}from"./TitleHeader-Cbinm1cJ.js";import{F as _}from"./index-CAw9vkrj.js";import{D as G}from"./DockBar-Ek2YQbl1.js";import{S as w,a as v}from"./swiper-react-DXLMfpIL.js";import{a as y,L as W,P as q}from"./pic-Bp3CpqNF.js";import{a as I,b,g as J,h as K}from"./index-CqscX1Ht.js";import{R as Q}from"./index-D6h1dpo6.js";import{F as X}from"./Footer-D-N-hdYA.js";import{c as Z}from"./index-B6gdGGd1.js";import{a as ee}from"./index-Bqhtcfcx.js";import"./jwt-BtbCJ6GR.js";import{I as te}from"./index-BYKM5Fq_.js";import"./iconBase-xDj5aick.js";import"./index-Dx1ag6er.js";import"./index-2JRSZenb.js";import"./button-J55smYlO.js";import"./Compact-Cfu1MAwM.js";import"./ExclamationCircleFilled-BVuawNWP.js";import"./CloseCircleFilled-DkOlg1e6.js";import"./InfoCircleFilled-WLpneQwI.js";import"./KeyCode-DNlgD2sM.js";import"./context-VM2zlwt1.js";import"./useCSSVarCls-B75Ca3nN.js";import"./Keyframes-B4c32onj.js";import"./ContextIsolator-eB6Iu1jg.js";import"./CloseOutlined-C89Dp7zH.js";import"./index-CzNusfcx.js";import"./BaseInput-DgpuOJJW.js";const se=({festivities:l})=>e.jsx("div",{children:e.jsx(w,{slidesPerView:1.5,spaceBetween:16,className:"mySwiper",children:l.map(t=>e.jsxs(v,{className:"h-[600px] relative text-white rounded-tl-[60px] rounded-br-[60px] overflow-hidden after:absolute after:left-0 after:bottom-0 after:w-full after:h-[50%] after:bg-gradient-to-b after:from-transparent after:to-black after:opacity-70",children:[e.jsx("img",{src:`${y}${t.strfId}/${t.strfPic}`,alt:t.festTitle,className:"h-[600px]"}),e.jsxs("div",{className:"absolute bottom-[60px] right-[30px] text-right z-[99]",children:[t.open&&e.jsx("span",{className:"text-xs inline-block bg-secondary3 px-2.5 py-1 rounded-md font-light mb-1.5",children:"개최중"}),e.jsx("h2",{className:"text-3xl font-medium mb-1.5",style:{wordBreak:"auto-phrase"},children:t.festTitle}),e.jsxs("h4",{className:"text-2xl font-medium mb-1.5",children:[t.startAt.replaceAll("-","."),"~",t.endAt.replaceAll("-",".")]}),e.jsx("p",{className:"text-base font-",children:t.locationTitle})]})]},t.strfId))})}),ae=({locations:l})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["국내 여행지 ",e.jsx("b",{className:"text-secondary3 font-bold",children:"BEST 10"})]}),e.jsx(w,{slidesPerView:4,spaceBetween:16,className:"mySwiper ",children:l.map((t,a)=>e.jsxs(v,{className:"relative pt-[40px]",children:[e.jsx("p",{className:"absolute z-[999] bg-secondary3 text-white w-[36px] h-[36px] leading-[36px] rounded-full left-1/2 top-[24px] -translate-x-1/2 text-center inline-block text-lg",children:a+1}),e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden h-[226px]",children:[e.jsx("img",{src:`${W}${t.locationPic}`,alt:t.locationTitle,className:"opacity-70 h-full object-cover"}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 text-center text-white text-base",children:[e.jsx("p",{children:"대한민국"}),e.jsx("h3",{className:"font-semibold text-2xl mt-1",children:t.locationTitle})]})]})]},t.locationId))})]}),le=({recent:l,getMainList:t,setFestivities:a,setLocations:f,setRecent:c,setRecommend:h})=>{const u=N(),[x,p]=o.useState("STAY"),d={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지"},m=l.find(s=>s.category===x),i=async s=>{const j={strfId:s.strfId};console.log("찜하기 데이터:",j);try{const n=await axios.post("/api/wish-list",{...j},{headers:{Authorization:`Bearer ${accessToken}`}});console.log("찜하기",n.data),n.data.code==="200 성공"&&t()}catch(n){console.log("찜하기",n)}};return!l||l.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"최근 본 목록"}),e.jsx("div",{children:l.map(s=>e.jsx("button",{onClick:()=>p(s.category),className:`px-5 py-2 border cursor-pointer mr-2.5 my-8 rounded-2xl ${x===s.category?"bg-primary text-white":"bg-white text-slate-500 border-1 border-slate-300"}`,children:d[s.category]},s.category))}),e.jsx("div",{className:" flex flex-wrap ",children:m==null?void 0:m.recent.slice(0,6).map(s=>e.jsxs("div",{className:"w-[50%] flex items-center gap-5 mb-5 cursor-pointer",onClick:()=>{u(`/contents/index?strfId=${s.strfId}`)},children:[e.jsxs("div",{className:"w-[164px] h-[164px] rounded-[16px] relative overflow-hidden flex-1",children:[e.jsx("img",{src:`${y}${s.strfId}/${s.strfPic}`,alt:s.strfTitle,className:"w-full h-full object-cover"}),e.jsx("i",{className:"absolute top-2.5 right-2.5 cursor-pointer",onClick:()=>i(item),children:s.wishIn?e.jsx(I,{className:"text-secondary3 text-xl"}):e.jsx(b,{className:"text-white text-xl"})})]}),e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 break-keep",children:s.strfTitle}),e.jsxs("p",{className:"font-medium text-base text-slate-400",children:[s.locationName," · ",d[x]]}),e.jsx("p",{children:e.jsx(Q,{disabled:!0,allowHalf:!0,defaultValue:s.averageRating})}),e.jsxs("div",{className:"flex text-slate-400 text-sm align-middle gap-1",children:[s.wishIn?e.jsx(I,{className:"text-secondary3 text-xl"}):e.jsx(b,{className:"text-slate-400 text-xl"}),s.wishCnt]})]})]},s.strfId))})]})},re=({recommend:l})=>{if(!l||l.length===0)return null;const t=N();return e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mx-[32px]",children:"회원님에게 추천하는 여행지"}),e.jsx(w,{slidesPerView:1,className:"mySwiper relative mt-5 after:bg-slate-100 after:inline-block after:w-full after:h-72 after:absolute after:top-0 after:left-0 ",children:l.map(a=>e.jsxs(v,{className:"!flex align-middle justify-center gap-8 mt-12 px-8 cursor-pointer",onClick:()=>t(`/contents/index?strfId=${a.strfId}`),children:[e.jsx("p",{}),e.jsxs("div",{className:"mt-12 w-[50%]",children:[e.jsx("span",{className:"bg-slate-800 text-white py-1 px-3 rounded-2xl font-light text-xs",children:a.locationTitle}),e.jsx("h2",{className:"text-2xl font-medium break-keep",children:a.strfTitle}),e.jsx("p",{className:"text-lg font-normal text-slate-500 break-keep",children:a.explain}),e.jsxs(r,{to:"",className:"text-slate-400 flex align-middle font-light gap-1",children:["자세히보기 ",e.jsx(C,{className:"text-lg"})]})]}),e.jsx("img",{src:`${y}${a.strfId}/${a.strfPic}`,alt:a.strfTitle,className:"w-[400px] h-[300px] rounded-tr-[36px] rounded-bl-[36px]"})]},a.strfId))})]})},oe=({isOpen:l,onClose:t})=>{const[a,f]=S(T),[c,h]=o.useState([]),u=z("accessToken"),x=async()=>{try{const i=await $.get("/api/user/userInfo",{headers:{Authorization:`Bearer ${u}`}});h(i.data.data)}catch(i){console.log(i)}};o.useEffect(()=>{a.accessToken&&x()},[]);const p=N(),d=()=>{f({userId:0,accessToken:""}),O("accessToken"),p("/signin")},m=()=>{p("user/useredit",{state:c})};return e.jsxs("div",{className:`overflow-hidden max-w-3xl w-full fixed left-1/2 -translate-x-1/2 inset-0 z-[99] flex justify-end transition-opacity duration-300 ${l?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>t(),children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-50 ",onClick:()=>t()}),e.jsxs("div",{className:`z-[999] absolute top-0 right-0 w-[70%]  h-screen bg-white overflow-y-auto shadow-xl transition-transform duration-300 ease-in-out ${l?"translate-x-0":" translate-x-full"}`,onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{onClick:()=>t(),className:"text-3xl cursor-pointer text-slate-700"}),e.jsxs("h1",{className:"flex gap-5",children:[e.jsx(L,{className:"text-3xl text-slate-700 cursor-pointer"}),e.jsx(J,{className:"text-3xl text-slate-700 cursor-pointer",onClick:()=>m()})]})]}),e.jsxs("div",{children:[a.accessToken?e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mx-auto w-32 h-32 rounded-full overflow-hidden",children:e.jsx("img",{src:c.profilePic?`${q}${a==null?void 0:a.userId}/${c==null?void 0:c.profilePic}`:"/images/user.png",alt:"User-Profile",className:"w-full h-full object-cover"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-700 mt-4 text-center",children:c.name}),e.jsxs("div",{className:"flex items-center justify-between bg-slate-100 mt-5 px-5 h-20 rounded-[36px] relative",children:[e.jsx("span",{className:"absolute top-[-16px] left-1/2 -translate-x-1/2 block w-0 h-0 border-transparent border-solid border-l-[12px] border-r-[12px] border-b-[20px] border-b-slate-100 z-[1]"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"https://picsum.photos/200",alt:"",className:"w-8 h-8 rounded-full mr-3"}),e.jsx("span",{className:"text-xl text-slate-700 font-normal",children:"제주도 여행"})]}),e.jsx("span",{className:"text-xl text-primary font-medium",children:"D-2"})]})]}):e.jsxs(r,{to:"/signin",className:"text-2xl font-bold text-slate-700 flex items-center justify-between py-5",children:[e.jsx("span",{children:"로그인 해주세요"}),e.jsx(C,{className:"text-3xl"})]}),e.jsxs("div",{className:"flex mt-10",children:[e.jsxs(r,{to:"/user/usertrips",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(D,{className:"w-full text-4xl text-slate-700 mb-2"}),"여행"]}),e.jsxs(r,{to:"/user/userwishlist",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(b,{className:"w-full text-4xl text-slate-700 mb-2"}),"찜하기"]}),e.jsxs(r,{to:"/user/userreview",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(K,{className:"w-full text-4xl text-slate-700 mb-2"}),"리뷰"]}),e.jsxs(r,{to:"",className:"w-1/4 text-center text-lg text-slate-500 font-normal",children:[e.jsx(H,{className:"w-full text-4xl text-slate-700 mb-2"}),"여행기"]})]})]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"w-full px-8 py-8",children:[e.jsxs(r,{to:"/user/userbooking",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(ee,{className:"text-4xl text-slate-400 mr-4"}),"내예약"]}),e.jsxs(r,{to:"",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(Y,{className:"text-4xl text-slate-400 mr-4"}),"쿠폰함",e.jsx("span",{className:"ml-auto w-9 h-6 rounded-2xl text-sm text-center leading-[1.45rem] text-primary3 bg-[#A5EEFE]/50",children:"10"})]}),e.jsxs(r,{to:"",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(Z,{className:"text-4xl text-slate-400 mr-4"}),"지역 상품권"]}),e.jsxs(r,{to:"/user/recentlist",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(M,{className:"text-4xl text-slate-400 mr-4"}),"최근 본 목록"]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"px-8 pb-8",children:[e.jsx(r,{to:"",className:"flex py-5 text-lg text-slate-500",children:"공지사항"}),e.jsx(r,{to:"",className:"flex text-lg text-slate-500 py-5",children:"자주 묻는 질문"}),e.jsx(r,{to:"",className:"flex  text-lg text-slate-500 py-5",children:"고객센터"}),a.accessToken&&e.jsx("button",{onClick:()=>d(),className:"w-full h-[60px] rounded-lg border border-slate-300 text-2xl font-bold text-slate-500",children:"로그아웃"})]})]})]})},ze=()=>{const[l,t]=o.useState([]),[a,f]=o.useState([]),[c,h]=o.useState([]),[u,x]=o.useState([]),[p,d]=o.useState(!1),[m,i]=o.useState(0),s=async()=>{try{const g=await $.get("/api/home",{headers:{Authorization:`Bearer ${n.accessToken}`}});console.log(g.data.data);const{festivalList:R,locationList:B,recentList:E,recommendList:F}=g.data.data;t(R),f(B),h(E),x(F)}catch(g){console.log(g)}};o.useEffect(()=>{s()},[]);const j=()=>{window.scrollY>140?i(!0):i(!1)};window.addEventListener("scroll",j);const[n,A]=S(T),k=N();o.useEffect(()=>{console.log("recoil",n)},[n]);const P=()=>{k("/search/contents")};return e.jsxs("div",{children:[e.jsx(oe,{isOpen:p,onClose:()=>d(!1)}),e.jsxs("header",{className:`flex h-[60px] items-center px-[32px] max-w-3xl w-full duration-300 ${m?"fixed top-0 ":"relative"} z-50 bg-white `,children:[e.jsx("h1",{className:"w-[160px] mr-auto",children:e.jsx("img",{src:"/images/logo_1.png",alt:"main_logo",className:"cursor-pointer",onClick:()=>{k("/")}})}),e.jsxs("nav",{className:" flex gap-[16px]",children:[e.jsx(L,{className:"text-3xl text-slate-400 cursor-pointer"}),e.jsx(V,{className:"text-3xl text-slate-400 cursor-pointer",onClick:()=>d(!0)})]})]}),e.jsxs("main",{className:"pb-[60px]",children:[e.jsx("section",{className:"mx-[32px] mt-[30px]",children:e.jsx(te,{className:"h-[60px] text-lg rounded-lg  !bg-slate-100 !border-slate-300  gap-[5px]",placeholder:"지금 어디로 여행을 떠나고  싶으신가요?",readOnly:!0,prefix:e.jsx(_,{className:"text-slate-400 text-2xl"}),onClick:()=>P()})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(se,{festivities:l})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(ae,{locations:a})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx("img",{src:"/images/main-banner.png",alt:""})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(le,{recent:c,getMainList:s,setFestivities:t,setLocations:f,setRecent:h,setRecommend:x})}),e.jsx("section",{className:"mt-[70px]",children:e.jsx(re,{recommend:u})})]}),e.jsx(X,{}),e.jsx(G,{})]})};export{ze as default};
