import{m as w,g as N,u as v,r as l,j as e}from"./index-DW3n6Q7M.js";import"./TitleHeader-B38qZ9mj.js";import{b as I}from"./index-42XTSeCz.js";import{F as S}from"./index-CTO75cNs.js";import{a as k}from"./axios-upsvKRUO.js";import{I as C}from"./index-FNZB9EPz.js";import{d as g}from"./index-BFYPnQPV.js";import{P as R}from"./pic-DyOJ8HTR.js";import{R as j}from"./index-CYxM6BHZ.js";import{S as y}from"./Skeleton-B0FaxOZb.js";const H=w.memo(({searchValue:x,setSearchValue:r,setSearchState:c})=>{const m=N("accessToken"),h=v(),[f,n]=l.useState(!1),[i,p]=l.useState(""),[a,o]=l.useState([]);l.useEffect(()=>{console.log("recentText",a)},[a]);const u=async()=>{try{const s=(await k.get("/api/search/list",{headers:{Authorization:`Bearer ${m}`}})).data;console.log(s);const d=s.data.filter(b=>b.txt!=="");o(d)}catch(t){console.log("최근 검색어 호출 결과:",t)}};return l.useEffect(()=>{u()},[]),l.useEffect(()=>{console.log("최근 검색어",a)},[a]),e.jsxs("div",{className:"w-full px-[32px] py-[30px] flex items-center gap-[40px] relative ",children:[e.jsx("div",{className:"text-[36px] cursor-pointer",onClick:()=>{h(-1)},children:e.jsx(I,{})}),e.jsx(C,{placeholder:"지금 어디로 여행을 떠나고 싶으신가요?",variant:"borderless",allowClear:!0,onChange:t=>{p(t.target.value)},onKeyDown:t=>{t.code==="Enter"&&(r(t.target.value),c(!0))},onFocus:()=>{n(!0)},prefix:e.jsx(S,{className:"text-slate-400 text-2xl"}),className:`w-full h-[60px] px-[12px] ${i?"bg-white":"bg-slate-100"}`}),f?e.jsx("div",{className:`absolute top-[90%] translate-y-[0] left-[0]\r
          w-full flex justify-center items-center gap-[20px]`,children:a?a==null?void 0:a.map((t,s)=>e.jsx("button",{onClick:()=>{r(t.txt),c(!0),n(!1)},children:t.txt},s)):e.jsx("li",{className:"text-slate-700 text-[16px]",children:"데이터 없음"})}):null]})}),$=l.forwardRef(({type:x,name:r,data:c,searchValue:m,searchData:h,setSearchData:f,setSelectedCate:n},i)=>{N("accessToken");const p=v(),a=s=>{console.log("클릭된 아이템",s),p(`/contents/index?strfId=${s.strfId}`)},[o,u]=l.useState(4);l.useEffect(()=>{console.log(o)},[o]);const t=()=>{console.log(x),n(x)};return e.jsxs("div",{ref:i,className:"flex flex-col gap-[20px] items-center",children:[e.jsx("h2",{className:"w-full text-[24px] font-semibold text-slate-700",children:r}),e.jsx("ul",{className:"w-full flex flex-col gap-[20px] mb-[30px]",children:c?c.map((s,d)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>{a(s)},children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:e.jsx("img",{src:`${R}${s.strfId}/${s.strfPic}`,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:s.title})}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("p",{className:"text-[14px] text-slate-500",children:c.category}),e.jsx("p",{className:"text-[14px] text-slate-500",children:"|"}),e.jsx("p",{className:"text-[14px] text-slate-500",children:"지역"})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(j,{disabled:!0,count:1,value:s.ratingIn?1:0}),e.jsx("p",{className:"text-[12px] text-slate-500",children:s.averageRating?s.averageRating:"0"}),e.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",s.reviewCount.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:e.jsx(g,{className:`${s.wishIn?"text-color-secondary3":"text-slate-400"}`})}),e.jsx("p",{className:"text-[12px] text-slate-500",children:s.wishlistCount.toLocaleString()})]})]})]},d)):e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:a,children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px]",children:e.jsx(y.Image,{active:!1,size:"large",style:{width:"130px",height:"130px"}})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:"제목"})}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("p",{className:"text-[14px] text-slate-500",children:"카테고리"}),e.jsx("p",{className:"text-[14px] text-slate-500",children:"|"}),e.jsx("p",{className:"text-[14px] text-slate-500",children:"지역"})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(j,{disabled:!0,count:1,value:0}),e.jsx("p",{className:"text-[12px] text-slate-500",children:"평점"}),e.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",1e3.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:e.jsx(g,{className:"text-slate-400 bg-white"})}),e.jsx("p",{className:"text-[12px] text-slate-500",children:1e3.toLocaleString()})]})]})]})}),e.jsxs("button",{type:"button",className:`px-[20px] py-[10px] border border-slate-300 \r
        rounded-[24px] text-[16px] font-semibold text-slate-600`,onClick:t,children:[x," 검색결과 더보기"]})]})}),K=l.memo($);export{H as S,K as a};
