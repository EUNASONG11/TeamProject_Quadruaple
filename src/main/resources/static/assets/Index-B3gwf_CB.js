import{a as N,j as e,r as i,h as o,R as C,f as T,g as U,V as O,c as H,M as V,F as M}from"./index-hzpou2jK.js";import{a as y}from"./axios-upsvKRUO.js";import{g as P,h as A,H as Y,i as D,B as _,C as G}from"./TitleHeader-go6GWOTm.js";import{S as w,a as v}from"./swiper-react-CBe3m5o1.js";import{a as I,L,P as W}from"./pic-Bp3CpqNF.js";import{a as $,b as k,f as q,g as J}from"./index-BDGbKGZl.js";import{R as K}from"./index-Brbve_zf.js";import{F as Q}from"./Footer-C0tkw2tX.js";import{a as X}from"./index-DNX0lLmw.js";/* empty css                    */import"./jwt-BLhOuEAS.js";import{I as Z}from"./index-BazBbBfM.js";import"./useId-C5EBXog0.js";import"./index-BzUBezPm.js";import"./index-Dt7wiuG8.js";import"./Portal-Cup2gZD9.js";import"./useSize-C_t0tW5w.js";import"./ContextIsolator-CQUGdQy4.js";import"./context-zKwpUIQQ.js";import"./button-DcLLjFNX.js";import"./BaseInput-C1GHNHoe.js";const ee=({festivities:l})=>{const r=N();return e.jsx("div",{children:e.jsx(w,{slidesPerView:1.5,spaceBetween:16,className:"mySwiper",children:l.map(t=>e.jsxs(v,{className:"!h-[600px] cursor-pointer relative text-white rounded-tl-[60px] rounded-br-[60px] overflow-hidden after:absolute after:left-0 after:bottom-0 after:w-full after:h-[50%] after:bg-gradient-to-b after:from-transparent after:to-black after:opacity-70",onClick:()=>r(`/contents/index?strfId=${t.strfId}`),children:[e.jsx("img",{src:`${I}${t.strfId}/${t.strfPic}`,alt:t.festTitle,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-[60px] right-[30px] text-right z-[99]",children:[t.open&&e.jsx("span",{className:"text-xs inline-block bg-secondary3 px-2.5 py-1 rounded-md font-light mb-1.5",children:"개최중"}),e.jsx("h2",{className:"text-3xl font-medium mb-1.5",style:{wordBreak:"auto-phrase"},children:t.festTitle}),e.jsxs("h4",{className:"text-2xl font-medium mb-1.5",children:[t.startAt.replaceAll("-","."),"~",t.endAt.replaceAll("-",".")]}),e.jsx("p",{className:"text-base font-",children:t.locationTitle})]})]},t.strfId))})})},te=({locations:l})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["국내 여행지 ",e.jsx("b",{className:"text-secondary3 font-bold",children:"BEST 10"})]}),e.jsx(w,{slidesPerView:4,spaceBetween:16,className:"mySwiper ",children:l.map((r,t)=>e.jsxs(v,{className:"relative pt-[40px]",children:[e.jsx("p",{className:"absolute z-[999] bg-secondary3 text-white w-[36px] h-[36px] leading-[36px] rounded-full left-1/2 top-[24px] -translate-x-1/2 text-center inline-block text-lg",children:t+1}),e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden h-[226px]",children:[e.jsx("img",{src:`${L}${r.locationPic}`,alt:r.locationTitle,className:"opacity-70 h-full object-cover"}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 text-center text-white text-base",children:[e.jsx("p",{children:"대한민국"}),e.jsx("h3",{className:"font-semibold text-2xl mt-1",children:r.locationTitle})]})]})]},r.locationId))})]}),se=({recent:l,getMainList:r,setFestivities:t,setLocations:j,setRecent:c,setRecommend:g})=>{const f=N(),[x,h]=i.useState("STAY"),d={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지"},m=l.find(s=>s.category===x),p=async s=>{const u={strfId:s.strfId};console.log("찜하기 데이터:",u);try{const n=await axios.post("/api/wish-list",{...u},{headers:{Authorization:`Bearer ${accessToken}`}});console.log("찜하기",n.data),n.data.code==="200 성공"&&r()}catch(n){console.log("찜하기",n)}};return!l||l.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"최근 본 목록"}),e.jsx("div",{children:l.map(s=>e.jsx("button",{onClick:()=>h(s.category),className:`px-5 py-2 border cursor-pointer mr-2.5 my-8 rounded-2xl ${x===s.category?"bg-primary text-white":"bg-white text-slate-500 border-1 border-slate-300"}`,children:d[s.category]},s.category))}),e.jsx("div",{className:" flex flex-wrap ",children:m==null?void 0:m.recent.slice(0,6).map(s=>e.jsxs("div",{className:"w-[50%] flex items-center gap-5 mb-5 cursor-pointer",onClick:()=>{f(`/contents/index?strfId=${s.strfId}`)},children:[e.jsxs("div",{className:"w-[164px] h-[164px] rounded-[16px] relative overflow-hidden flex-1",children:[e.jsx("img",{src:`${I}${s.strfId}/${s.strfPic}`,alt:s.strfTitle,className:"w-full h-full object-cover"}),e.jsx("i",{className:"absolute top-2.5 right-2.5 cursor-pointer",onClick:()=>p(item),children:s.wishIn?e.jsx($,{className:"text-secondary3 text-xl"}):e.jsx(k,{className:"text-white text-xl"})})]}),e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 break-keep",children:s.strfTitle}),e.jsxs("p",{className:"font-medium text-base text-slate-400",children:[s.locationName," · ",d[x]]}),e.jsx("p",{children:e.jsx(K,{disabled:!0,allowHalf:!0,defaultValue:s.averageRating})}),e.jsxs("div",{className:"flex text-slate-400 text-sm align-middle gap-1",children:[s.wishIn?e.jsx($,{className:"text-secondary3 text-xl"}):e.jsx(k,{className:"text-slate-400 text-xl"}),s.wishCnt]})]})]},s.strfId))})]})},ae=({recommend:l})=>{const r=N();return!l||l.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mx-[32px]",children:"회원님에게 추천하는 여행지"}),e.jsx(w,{slidesPerView:1,className:"mySwiper relative mt-5 after:bg-slate-100 after:inline-block after:w-full after:h-72 after:absolute after:top-0 after:left-0 ",children:l.map(t=>e.jsxs(v,{className:"!flex align-middle justify-center gap-8 mt-12 px-8 cursor-pointer",onClick:()=>r(`/contents/index?strfId=${t.strfId}`),children:[e.jsx("p",{}),e.jsxs("div",{className:"mt-12 w-[50%]",children:[e.jsx("span",{className:"bg-slate-800 text-white py-1 px-3 rounded-2xl font-light text-xs",children:t.locationTitle}),e.jsx("h2",{className:"text-2xl font-medium break-keep",children:t.strfTitle}),e.jsx("p",{className:"text-lg font-normal text-slate-500 break-keep",children:t.explain}),e.jsxs(o,{to:"",className:"text-slate-400 flex align-middle font-light gap-1",children:["자세히보기 ",e.jsx(P,{className:"text-lg"})]})]}),e.jsx("img",{src:`${I}${t.strfId}/${t.strfPic}`,alt:t.strfTitle,className:"w-[400px] h-[300px] rounded-tr-[36px] rounded-bl-[36px]"})]},t.strfId))})]})},le=({isOpen:l,onClose:r})=>{var n;const[t,j]=C(T),[c,g]=i.useState([]),[f,x]=i.useState(""),h=U("accessToken"),d=async()=>{try{const a=await y.get("/api/home/user",{headers:{Authorization:`Bearer ${h}`}});console.log("✅  getUserInfo  res.data.data:",a.data.data),g(a.data.data)}catch(a){console.log(a)}},m=async()=>{try{const a=await y.get("/api/coupon/available-coupons",{headers:{Authorization:`Bearer ${h}`}});console.log("✅  getCoupon  res.data.data:",a.data.data),x(a.data.data)}catch(a){console.log("✅  getCoupon  error:",a)}};i.useEffect(()=>{t.accessToken&&(d(),m())},[]);const p=N(),s=()=>{j({userId:0,accessToken:""}),V("accessToken"),p("/signin")},u=()=>{p("user/useredit",{state:c})};return e.jsxs("div",{className:`overflow-hidden max-w-3xl w-full fixed left-1/2 -translate-x-1/2 inset-0 z-[99] flex justify-end transition-opacity duration-300 ${l?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>r(),children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-50 ",onClick:()=>r()}),e.jsxs("div",{className:`z-[999] absolute top-0 right-0 w-[70%]  h-screen bg-white overflow-y-auto shadow-xl transition-transform duration-300 ease-in-out ${l?"translate-x-0":" translate-x-full"}`,onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(O,{onClick:()=>r(),className:"text-3xl cursor-pointer text-slate-700"}),e.jsxs("h1",{className:"flex gap-5",children:[e.jsx(A,{className:"text-3xl text-slate-700 cursor-pointer"}),e.jsx(q,{className:"text-3xl text-slate-700 cursor-pointer",onClick:()=>u()})]})]}),e.jsxs("div",{children:[t.accessToken?e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mx-auto w-32 h-32 rounded-full overflow-hidden",children:e.jsx("img",{src:c.profilePic?`${W}${t==null?void 0:t.userId}/${c==null?void 0:c.profilePic}`:"/images/user.png",alt:"User-Profile",className:"w-full h-full object-cover"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-700 mt-4 text-center",children:c.name}),e.jsx(w,{slidesPerView:1,className:"mySwiper",children:(n=c.tripList)==null?void 0:n.map(a=>e.jsxs(v,{children:[e.jsx("span",{className:"absolute top-0 left-1/2 -translate-x-1/2 block w-0 h-0 border-transparent border-solid border-l-[12px] border-r-[12px] border-b-[20px] border-b-slate-100 z-[1]"}),e.jsxs("div",{className:"flex items-center justify-between bg-slate-100 mt-5 px-5 h-20 rounded-[36px] relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:`${L}${a.locationPic}`,alt:"",className:"w-8 h-8 rounded-full mr-3"}),e.jsx("span",{className:"text-xl text-slate-700 font-normal",children:a.title})]}),e.jsx("span",{className:"text-xl text-primary font-medium",children:a.dday>0?`D-${a.dday}`:"여행중"})]})]},a.tripId))})]}):e.jsxs(o,{to:"/signin",className:"text-2xl font-bold text-slate-700 flex items-center justify-between py-5",children:[e.jsx("span",{children:"로그인 해주세요"}),e.jsx(P,{className:"text-3xl"})]}),e.jsxs("div",{className:"flex mt-10",children:[e.jsxs(o,{to:"/user/usertrips",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(Y,{className:"w-full text-4xl text-slate-700 mb-2"}),"여행"]}),e.jsxs(o,{to:"/user/userwishlist",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(k,{className:"w-full text-4xl text-slate-700 mb-2"}),"찜하기"]}),e.jsxs(o,{to:"/user/userreview",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(J,{className:"w-full text-4xl text-slate-700 mb-2"}),"리뷰"]}),e.jsxs(o,{to:"/user/usertrip",className:"w-1/4 text-center text-lg text-slate-500 font-normal",children:[e.jsx(H,{className:"w-full text-4xl text-slate-700 mb-2"}),"내 여행기"]})]})]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"w-full px-8 py-8",children:[e.jsxs(o,{to:"/user/userbooking",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(X,{className:"text-4xl text-slate-400 mr-4"}),"내예약"]}),e.jsxs(o,{to:"/user/usercoupon",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(D,{className:"text-4xl text-slate-400 mr-4"}),"쿠폰함",f.availableCouponCount>0&&e.jsx("span",{className:"ml-auto w-9 h-6 rounded-2xl text-sm text-center leading-[1.45rem] text-primary3 bg-[#A5EEFE]/50",children:f.availableCouponCount})]}),e.jsxs(o,{to:"/user/recentlist",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(_,{className:"text-4xl text-slate-400 mr-4"}),"최근 본 목록"]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"px-8 pb-8",children:[e.jsx(o,{to:"",className:"flex py-5 text-lg text-slate-500",children:"공지사항"}),e.jsx(o,{to:"",className:"flex text-lg text-slate-500 py-5",children:"자주 묻는 질문"}),e.jsx(o,{to:"",className:"flex  text-lg text-slate-500 py-5",children:"고객센터"}),t.accessToken&&e.jsx("button",{onClick:()=>s(),className:"w-full h-[60px] rounded-lg border border-slate-300 text-2xl font-bold text-slate-500",children:"로그아웃"})]})]})]})},Se=()=>{const[l,r]=i.useState([]),[t,j]=i.useState([]),[c,g]=i.useState([]),[f,x]=i.useState([]),[h,d]=i.useState(!1),[m,p]=i.useState(0),s=async()=>{try{const b=await y.get("/api/home",{headers:{Authorization:`Bearer ${n.accessToken}`}});console.log(b.data.data);const{festivalList:B,locationList:E,recentList:F,recommendList:z}=b.data.data;r(B),j(E),g(F),x(z)}catch(b){console.log(b)}};i.useEffect(()=>{s()},[]);const u=()=>{window.scrollY>140?p(!0):p(!1)};window.addEventListener("scroll",u);const[n,a]=C(T),S=N();i.useEffect(()=>{console.log("recoil",n)},[n]);const R=()=>{S("/search/contents")};return e.jsxs("div",{children:[e.jsx(le,{isOpen:h,onClose:()=>d(!1)}),e.jsxs("header",{className:`flex h-[60px] items-center px-[32px] max-w-3xl w-full duration-300 ${m?"fixed top-0 ":"relative"} z-50 bg-white `,children:[e.jsx("h1",{className:"w-[160px] mr-auto",children:e.jsx("img",{src:"/images/logo_1.png",alt:"main_logo",className:"cursor-pointer",onClick:()=>{S("/")}})}),e.jsxs("nav",{className:" flex gap-[16px]",children:[e.jsx(A,{className:"text-3xl text-slate-400 cursor-pointer"}),e.jsx(G,{className:"text-3xl text-slate-400 cursor-pointer",onClick:()=>d(!0)})]})]}),e.jsxs("main",{className:"pb-[60px]",children:[e.jsx("section",{className:"mx-[32px] mt-[30px]",children:e.jsx(Z,{className:"h-[60px] text-lg rounded-lg  !bg-slate-100 !border-slate-300  gap-[5px]",placeholder:"지금 어디로 여행을 떠나고  싶으신가요?",readOnly:!0,prefix:e.jsx(M,{className:"text-slate-400 text-2xl"}),onClick:()=>R()})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(ee,{festivities:l})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(te,{locations:t})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx("img",{src:"/images/main-banner.png",alt:""})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(se,{recent:c,getMainList:s,setFestivities:r,setLocations:j,setRecent:g,setRecommend:x})}),e.jsx("section",{className:"mt-[70px]",children:e.jsx(ae,{recommend:f})})]}),e.jsx(Q,{})]})};export{Se as default};
