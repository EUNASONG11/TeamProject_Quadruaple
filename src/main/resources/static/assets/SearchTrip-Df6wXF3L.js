import{g as E,R as $,r as s,c as T,u as k,a as A,j as e}from"./index-DlYLfxzI.js";import{j as g}from"./jwt-7u2p2k-8.js";import{t as j}from"./tripAtom-jTWIlRnr.js";import"./SearchItems-CMsCGNaf.js";import{a as V}from"./pic-Bp3CpqNF.js";import{a as D,b as N}from"./index-DUVLbqhb.js";import{c as F}from"./TitleHeader-ChFl6bwT.js";import{F as P}from"./index-2xNAINv_.js";import{I as L}from"./index-DB6L5INb.js";import{R as v}from"./index-B13msMtW.js";import"./axios-upsvKRUO.js";import"./match-R6ks79gH.js";import"./index-AO4cOa6f.js";import"./iconBase-DizHl2PJ.js";import"./Skeleton-Cgw2lAb-.js";import"./Compact-Bk0X0DCw.js";import"./Keyframes-BOStT4yD.js";import"./context-YIeslHxJ.js";import"./BaseInput-BvEJwfAa.js";import"./button-BR1h7VSD.js";import"./ContextIsolator-C_kIobP2.js";import"./CloseCircleFilled-B4CUy9UF.js";import"./useCSSVarCls-Ca5RJBqo.js";import"./index-BTlz1CL1.js";import"./KeyCode-DNlgD2sM.js";const w=[{type:null,name:"전체"},{type:"TOUR",name:"관광지"},{type:"STAY",name:"숙소"},{type:"RESTAUR",name:"맛집"},{type:"FEST",name:"축제"}],de=()=>{E("accessToken");const[i,B]=$(j);s.useEffect(()=>{console.log("trip",i)},[i]),T(j);const[S]=k(),c=parseInt(S.get("tripId"));s.useEffect(()=>{m(!0)},[]);const o=A(),y=t=>{console.log(t),o(`/contents/index?strfId=${t}`)},[n,H]=s.useState(0),[x,p]=s.useState({}),[O,m]=s.useState(!1),[d,b]=s.useState(""),[r,I]=s.useState(""),[u,_]=s.useState(0);s.useEffect(()=>{console.log("searchValue",r)},[r]),s.useEffect(()=>{},[u]);const C=async()=>{try{const a=(await g.get(`/api/search/strf-list-basic?trip_id=${c}&last_index=0`)).data;p(a.data)}catch(t){console.log("결과-입력 전:",t)}},f=async(t=null)=>{const a={trip_id:c,last_index:n,category:t,search_word:r};console.log("검색 리퀘스트 데이터",a);try{const R=(await g.get(`/api/search/strf-list-word?trip_id=${c}&last_index=${n}&search_word=${r}`,a)).data;p(R.data)}catch(h){console.log("결과-입력 후:",h)}};s.useEffect(()=>{C()},[]);const l=x==null?void 0:x.list;return e.jsxs("div",{className:"w-full flex flex-col gap-[30px]",children:[e.jsxs("div",{className:"w-full px-[32px] py-[30px] flex items-center gap-[40px] relative ",children:[e.jsx("div",{className:"text-[36px] cursor-pointer",onClick:()=>{o(-1)},children:e.jsx(F,{})}),e.jsx(L,{placeholder:"지금 어디로 여행을 떠나고 싶으신가요?",variant:"borderless",prefix:e.jsx(P,{className:"text-slate-400 text-2xl"}),allowClear:!0,onChange:t=>{b(t.target.value)},onKeyDown:t=>{t.code==="Enter"&&(I(t.target.value),m(!0),f())},value:d,className:`w-full h-[60px] px-[12px] ${d?"bg-white":"bg-slate-100"}`})]}),r?e.jsx("ul",{className:"flex gap-[10px]",children:w.map((t,a)=>e.jsx("li",{className:`cursor-pointer font-semibold text-[16px] w-[124px] flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${a===u?"bg-primary text-white":"bg-white text-slate-500"}`,onClick:()=>{_(a),f(w[a].type)},children:t.name},a))}):null,e.jsx("ul",{className:"px-[32px] py-[30px] flex flex-col gap-[30px]",children:(l==null?void 0:l.length)>0?l==null?void 0:l.map((t,a)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>{y(t.strfId)},children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:e.jsx("img",{src:`${V}${t.strfId}/${t.picTitle}`,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:t.title})}),e.jsx("div",{className:"flex gap-[5px] items-center"}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(v,{disabled:!0,count:1,value:t.ratingIn?1:0,style:{fontSize:"16px"}}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.averageRating}),e.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",t.ratingCnt.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:t.wishIn?e.jsx(D,{className:"text-secondary3 text-[16px]"}):e.jsx(N,{className:"text-slate-400 text-[16px]"})}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.wishCnt.toLocaleString()})]})]})]},t.strfId)):e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px]",children:e.jsx("img",{src:"/images/logo_icon_4.png",alt:"thumbnail",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:"검색 결과가 없습니다."})}),e.jsx("div",{className:"flex gap-[5px] items-center"}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(v,{disabled:!0,count:1,value:0}),e.jsx("p",{className:"text-[12px] text-slate-500"}),e.jsx("p",{className:"text-[12px] text-slate-500"})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:e.jsx(N,{className:"text-slate-400"})}),e.jsx("p",{className:"text-[12px] text-slate-500"})]})]})]})})]})};export{de as default};
