import{a as o}from"./axios-upsvKRUO.js";import{g as a,s as t}from"./index-DI0hZm8z.js";const r=o.create(),c=e=>{console.log("1. 요청 전에 먼저 전달",e);const s=a("accessToken");return s?(e.headers.Authorization=`Bearer ${s}`,e):Promise.reject({response:{data:{error:"accessToken이 없음"}}})},n=e=>(console.log("failReq Err",e),Promise.reject(e)),i=async e=>{console.log("2. 요청의 결과 전처리",e);const s=await o.get("/api/user/access-token");return t("accessToken",s.data),e},l=async e=>{console.log("failRes 에러",e);const s=await o.get("/api/user/access-token");return t("accessToken",s.data),Promise.reject(e)};r.interceptors.request.use(c,n);r.interceptors.response.use(i,l);
