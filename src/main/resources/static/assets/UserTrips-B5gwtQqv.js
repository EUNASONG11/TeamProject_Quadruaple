import{R as y,k as w,r as a,g as T,u as k,j as e}from"./index-DI0hZm8z.js";import{c as m}from"./index-CrZ0FrIh.js";import{T as A}from"./TitleHeader-mS6H-Tmw.js";import{P as $,L as C}from"./pic-Bp3CpqNF.js";import{a as f}from"./axios-upsvKRUO.js";import{F as L}from"./index-B8CinGjN.js";import{I as P}from"./index-BexzeIK6.js";import"./iconBase-CKNMfARQ.js";import"./context-BkgmL1_r.js";import"./button-Buf7o645.js";import"./ContextIsolator-DVleuwTK.js";import"./Keyframes-Czc1jmj8.js";import"./collapse-BbEVqHco.js";import"./index-CKLy6gor.js";import"./BaseInput-By1OPDiL.js";import"./useLocale-Xy-GD7mZ.js";const E=["다가오는 여행","완료된 여행"],Y=()=>{var p,d;const[c,I]=y(w),[o,D]=a.useState([]),[l,u]=a.useState({});L.useForm();const i=T("accessToken"),[h,j]=a.useState(""),[r,g]=a.useState(0);a.useEffect(()=>{console.log("tripListData",l)},[l]),a.useEffect(()=>{},[r]);const N=async()=>{try{const t=(await f.get("/api/trip-list",{headers:{Authorization:`Bearer ${i}`}})).data,S=t.beforeTripList,U=t.afterTripList;u(t.data)}catch(s){console.log("여행 목록 불러오기:",s)}},b=async()=>{const s={inviteKey:h};try{const t=await f.post("/api/trip/user",s,{headers:{Authorization:`Bearer ${i}`}});console.log("구성원추가",t.data)}catch(t){console.log("구성원 추가",t)}};a.useEffect(()=>{c.accessToken&&N()},[]);const x=k(),v=()=>{x(-1)},n=s=>{console.log(s),x(`/schedule/index?tripId=${s.tripId}`)};return a.useEffect(()=>{},[r]),e.jsxs("div",{className:"flex flex-col gap-[30px]",children:[e.jsx(A,{icon:"back",title:"여행",onClick:v}),e.jsxs("div",{className:"mt-[90px] flex flex-col gap-[14px] items-center justify-center w-full",children:[e.jsx("div",{className:"w-[120px] h-[120px] rounded-full overflow-hidden bg-slate-100",children:e.jsx("img",{src:`${$}${c==null?void 0:c.userId}/${o==null?void 0:o.profilePic}`,alt:"유저 이미지",className:"w-full h-full"})}),e.jsx("p",{className:"text-[30px] text-slate-700 font-bold"})]}),e.jsxs("div",{className:"px-[32px] flex flex-col gap-[5px]",children:[e.jsx("p",{className:"text-slate-500 text-[18px] font-semibold",children:"여행코드"}),e.jsx(P,{placeholder:"친구와 여행을 함께하기 위해 코드를 입력해주세요",className:"px-[32px] py-[20px] h-[79px]",onChange:s=>j(s.target.value),onKeyDown:s=>{s.code==="Enter"&&b()}})]}),e.jsx("div",{className:"px-[32px]",children:e.jsx("ul",{className:"flex items-center",children:E.map((s,t)=>e.jsx("li",{className:`cursor-pointer w-full flex justify-center items-center
                            pt-[17px] pb-[16px]
                            ${r===t?"text-primary border-b-[2px] border-primary":"text-slate-400 border-b border-slate-200"}`,onClick:()=>{g(t)},children:s},t))})}),e.jsxs("div",{className:"px-[28px] mb-[40px]",children:[r===0&&e.jsx("ul",{className:"flex flex-col gap-[40px]",children:(p=l==null?void 0:l.beforeTripList)==null?void 0:p.map((s,t)=>e.jsxs("li",{className:"flex items-center justify-between",onClick:()=>{n(s)},children:[e.jsxs("div",{className:"flex items-center gap-[29px]",children:[e.jsx("div",{className:"w-[100px] h-[100px] bg-slate-100 rounded-full",children:e.jsx("img",{src:`${C}/${s.locationPiclocationPic}`,alt:s.title})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("h3",{className:"text-[24px] text-slate-700 font-semibold",children:s.title}),e.jsxs("p",{className:"text-[18px] text-slate-500",children:[e.jsx("span",{children:s.startAt}),"~",e.jsx("span",{children:s.endAt})]})]})]}),e.jsx("button",{className:"w-[36px] h-[36px] bg-slate-100 px-[10px] py-[10px] rounded-full",children:e.jsx(m,{className:"text-slate-400"})})]},t))}),r===1&&e.jsx("ul",{className:"flex flex-col gap-[40px]",children:(d=l.afterTripList)==null?void 0:d.map((s,t)=>e.jsxs("li",{className:"flex items-center justify-between",onClick:()=>{n(s)},children:[e.jsxs("div",{className:"flex items-center gap-[29px]",children:[e.jsx("div",{className:"w-[100px] h-[100px] bg-slate-100 rounded-full",children:e.jsx("img",{src:"",alt:""})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("h3",{className:"text-[24px] text-slate-700 font-semibold",children:s.title}),e.jsxs("p",{className:"text-[18px] text-slate-500",children:[e.jsx("span",{children:s.startAt}),"~",e.jsx("span",{children:s.endAt})]})]})]}),e.jsx("button",{className:"w-[36px] h-[36px] bg-slate-100 px-[10px] py-[10px] rounded-full",children:e.jsx(m,{className:"text-slate-400"})})]},t))})]})]})};export{Y as default};
