import{R as w,n as T,r,g as A,u as k,j as e}from"./index-BDH47TWw.js";import{d as x}from"./index-CqscX1Ht.js";import{T as C}from"./TitleHeader-Cbinm1cJ.js";import{L as I}from"./pic-Bp3CpqNF.js";import{F as L}from"./Footer-D-N-hdYA.js";import{a as E}from"./axios-upsvKRUO.js";import{j as m}from"./jwt-BtbCJ6GR.js";import{F as $}from"./index-emIGJleg.js";import{I as D}from"./index-BYKM5Fq_.js";import"./iconBase-xDj5aick.js";import"./index-B6gdGGd1.js";import"./DockBar-Ek2YQbl1.js";import"./index-CAw9vkrj.js";import"./index-Dx1ag6er.js";import"./index-2JRSZenb.js";import"./button-J55smYlO.js";import"./Compact-Cfu1MAwM.js";import"./ExclamationCircleFilled-BVuawNWP.js";import"./CloseCircleFilled-DkOlg1e6.js";import"./InfoCircleFilled-WLpneQwI.js";import"./KeyCode-DNlgD2sM.js";import"./context-VM2zlwt1.js";import"./useCSSVarCls-B75Ca3nN.js";import"./Keyframes-B4c32onj.js";import"./ContextIsolator-eB6Iu1jg.js";import"./CloseOutlined-C89Dp7zH.js";import"./collapse-BbEVqHco.js";import"./index-JHQyUfB8.js";import"./index-CzNusfcx.js";import"./useLocale-BlSh-iWl.js";import"./BaseInput-DgpuOJJW.js";const F=["다가오는 여행","완료된 여행"],ue=()=>{var p,n;const[d,P]=w(T),[U,f]=r.useState({}),[a,u]=r.useState({});$.useForm();const l=A("accessToken"),[h,j]=r.useState(""),[o,g]=r.useState(0);r.useEffect(()=>{console.log("tripListData",a)},[a]),r.useEffect(()=>{},[o]);const N=async()=>{try{const t=(await m.get("/api/trip-list",{headers:{Authorization:`Bearer ${l}`}})).data,S=t.beforeTripList,B=t.afterTripList;u(t.data)}catch(s){console.log("여행 목록 불러오기:",s)}},b=async()=>{const s={inviteKey:h};try{const t=await E.post("/api/trip/user",s,{headers:{Authorization:`Bearer ${l}`}});console.log("구성원추가",t.data)}catch(t){console.log("구성원 추가",t)}},y=async()=>{try{const s=await m.get("/api/user/userInfo");console.log(s.data);const t=s.data;f(t.data)}catch(s){console.log("유저 정보",s)}};r.useEffect(()=>{d.accessToken&&(N(),y())},[]);const i=k(),v=()=>{i(-1)},c=s=>{console.log(s),i(`/schedule/index?tripId=${s.tripId}`)};return r.useEffect(()=>{},[o]),e.jsxs("div",{className:"flex flex-col gap-[30px]",children:[e.jsx(C,{icon:"back",title:"여행",onClick:v}),e.jsxs("div",{className:"px-[32px] flex flex-col gap-[5px]",children:[e.jsx("p",{className:"text-slate-500 text-[18px] font-semibold",children:"여행코드"}),e.jsx(D,{placeholder:"친구와 여행을 함께하기 위해 코드를 입력해주세요",className:"px-[32px] py-[20px] h-[79px]",onChange:s=>j(s.target.value),onKeyDown:s=>{s.code==="Enter"&&b()}})]}),e.jsx("div",{className:"px-[32px]",children:e.jsx("ul",{className:"flex items-center",children:F.map((s,t)=>e.jsx("li",{className:`cursor-pointer w-full flex justify-center items-center
                            pt-[17px] pb-[16px]
                            ${o===t?"text-primary border-b-[2px] border-primary":"text-slate-400 border-b border-slate-200"}`,onClick:()=>{g(t)},children:s},t))})}),e.jsxs("div",{className:"px-[28px] mb-[40px]",children:[o===0&&e.jsx("ul",{className:"flex flex-col gap-[40px]",children:(p=a==null?void 0:a.beforeTripList)==null?void 0:p.map((s,t)=>e.jsxs("li",{className:"flex items-center justify-between",onClick:()=>{c(s)},children:[e.jsxs("div",{className:"flex items-center gap-[29px]",children:[e.jsx("div",{className:"w-[100px] h-[100px] bg-slate-100 rounded-full overflow-hidden",children:e.jsx("img",{src:`${I}${s.locationPic}`,alt:s.title,className:"w-full h-full"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("h3",{className:"text-[24px] text-slate-700 font-semibold",children:s.title}),e.jsxs("p",{className:"text-[18px] text-slate-500",children:[e.jsx("span",{children:s.startAt}),"~",e.jsx("span",{children:s.endAt})]})]})]}),e.jsx("button",{className:"w-[36px] h-[36px] bg-slate-100 px-[10px] py-[10px] rounded-full",children:e.jsx(x,{className:"text-slate-400"})})]},t))}),o===1&&e.jsx("ul",{className:"flex flex-col gap-[40px]",children:(n=a.afterTripList)==null?void 0:n.map((s,t)=>e.jsxs("li",{className:"flex items-center justify-between",onClick:()=>{c(s)},children:[e.jsxs("div",{className:"flex items-center gap-[29px]",children:[e.jsx("div",{className:"w-[100px] h-[100px] bg-slate-100 rounded-full",children:e.jsx("img",{src:"",alt:""})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("h3",{className:"text-[24px] text-slate-700 font-semibold",children:s.title}),e.jsxs("p",{className:"text-[18px] text-slate-500",children:[e.jsx("span",{children:s.startAt}),"~",e.jsx("span",{children:s.endAt})]})]})]}),e.jsx("button",{className:"w-[36px] h-[36px] bg-slate-100 px-[10px] py-[10px] rounded-full",children:e.jsx(x,{className:"text-slate-400"})})]},t))})]}),e.jsx(L,{})]})};export{ue as default};
