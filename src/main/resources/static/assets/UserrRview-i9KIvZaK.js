import{r as n,g as x,a as p,j as e}from"./index-DyHKvFXx.js";import{a as g}from"./axios-upsvKRUO.js";import{A as f}from"./index-DxJqbMz2.js";import{T as w,c as u}from"./TitleHeader-DEuZPhEZ.js";import{R as v}from"./pic-Bp3CpqNF.js";/* empty css                    */import{R as h}from"./index-BtmQxHij.js";import{B as j}from"./button-CVG2PKR4.js";import"./useId-4VG1t10X.js";import"./index-CbCICOLq.js";import"./index-qeKOiAJN.js";import"./Portal-g2bJLkL6.js";import"./useSize-CzlGeqMr.js";import"./ContextIsolator-Bz1oyizr.js";import"./context-BzIqkGrz.js";const N=({images:o})=>{const t=o.length,i={1:"grid-cols-1 grid-rows-1",2:"grid-cols-2 grid-rows-1",3:"grid-cols-2 grid-rows-2",4:"grid-cols-2 grid-rows-2",5:"grid-cols-4 grid-rows-2"}[t]||"grid-cols-3 grid-rows-2";return e.jsx("div",{className:`grid gap-2 ${i} w-full h-[400px] rounded-lg overflow-hidden`,children:o.map((l,r)=>{let a="";return t===3&&r===0&&(a="row-span-2"),t===5&&r===0&&(a="row-span-2 col-span-2"),e.jsx("img",{src:l,alt:`image-${r}`,className:`w-full h-full overflow-hidden object-cover ${a}`},r)})})},S=()=>{const[o,t]=n.useState([]),[i,l]=n.useState(0),r=x("accessToken"),a=async()=>{try{const s=await g.get(`/api/review/my?last_index=${i}`,{headers:{Authorization:`Bearer ${r}`}});t(c=>[...c,...s.data]),console.log("✅  getUserReview  res.data.data:",s.data)}catch(s){console.log("✅  getUserReview  error:",s)}};n.useEffect(()=>{a()},[i]);const d=p();return e.jsxs("div",{children:[e.jsx(w,{icon:"back",title:"리뷰",onClick:()=>d(-1)}),e.jsxs("div",{className:"px-8",children:[o.map(s=>{const c=s.myReviewPic.map(m=>`${v}${s.reviewId}/${m.pic}`);return e.jsxs("div",{className:"py-8",children:[e.jsxs("h1",{className:"flex items-center gap-5 h text-3xl font-bold text-slate-700 mb-3 cursor-pointer",onClick:()=>d(`/contents/index?strfId=${s.strfId}`),children:[s.strfTitle,e.jsx(u,{})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(h,{className:"custom-rate flex items-center gap-1",disabled:!0,allowHalf:!0,defaultValue:s.rating}),e.jsx("p",{className:"text-slate-500 text-xl",children:s.reviewWriteDate.split(" ")[0]})]}),e.jsx("p",{className:"text-2xl text-slate-700 mb-10 font-normal",children:s.content}),e.jsx(N,{images:c})]},s.reviewId)}),e.jsx("div",{className:"flex justify-center mb-14",children:e.jsxs(j,{onClick:()=>l(s=>s+10),children:[e.jsx(f,{}),"더보기"]})})]})]})};export{S as default};
