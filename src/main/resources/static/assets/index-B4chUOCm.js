import{r as i,ak as qn,al as Vn,am as On,an as Gn,ao as Tn,ap as xn,aq as Ln,K as A,ar as dn,a9 as In,as as Kn,t as bn,n as tr,at as Nn,H as W,au as Ce,Y as Un,av as Jn,aw as Qe,ax as vn,ay as Qn,_ as Cn,az as hn,A as Zn,a3 as Yn,aA as Wn}from"./index-YXlYzo5D.js";var mn=i.createContext(null);function Xn(e){var n=e.children,r=e.onBatchResize,t=i.useRef(0),a=i.useRef([]),o=i.useContext(mn),s=i.useCallback(function(c,f,h){t.current+=1;var R=t.current;a.current.push({size:c,element:f,data:h}),Promise.resolve().then(function(){R===t.current&&(r==null||r(a.current),a.current=[])}),o==null||o(c,f,h)},[r,o]);return i.createElement(mn.Provider,{value:s},n)}var An=function(){if(typeof Map<"u")return Map;function e(n,r){var t=-1;return n.some(function(a,o){return a[0]===r?(t=o,!0):!1}),t}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(r){var t=e(this.__entries__,r),a=this.__entries__[t];return a&&a[1]},n.prototype.set=function(r,t){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=t:this.__entries__.push([r,t])},n.prototype.delete=function(r){var t=this.__entries__,a=e(t,r);~a&&t.splice(a,1)},n.prototype.has=function(r){return!!~e(this.__entries__,r)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(r,t){t===void 0&&(t=null);for(var a=0,o=this.__entries__;a<o.length;a++){var s=o[a];r.call(t,s[1],s[0])}},n}()}(),gn=typeof window<"u"&&typeof document<"u"&&window.document===document,$r=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),pn=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind($r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),et=2;function rt(e,n){var r=!1,t=!1,a=0;function o(){r&&(r=!1,e()),t&&c()}function s(){pn(o)}function c(){var f=Date.now();if(r){if(f-a<et)return;t=!0}else r=!0,t=!1,setTimeout(s,n);a=f}return c}var nt=20,tt=["top","right","bottom","left","width","height","size","weight"],at=typeof MutationObserver<"u",it=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=rt(this.refresh.bind(this),nt)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var r=this.observers_,t=r.indexOf(n);~t&&r.splice(t,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return n.forEach(function(r){return r.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!gn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),at?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!gn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var r=n.propertyName,t=r===void 0?"":r,a=tt.some(function(o){return!!~t.indexOf(o)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Hn=function(e,n){for(var r=0,t=Object.keys(n);r<t.length;r++){var a=t[r];Object.defineProperty(e,a,{value:n[a],enumerable:!1,writable:!1,configurable:!0})}return e},ar=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||$r},Bn=jr(0,0,0,0);function Fr(e){return parseFloat(e)||0}function _n(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.reduce(function(t,a){var o=e["border-"+a+"-width"];return t+Fr(o)},0)}function ot(e){for(var n=["top","right","bottom","left"],r={},t=0,a=n;t<a.length;t++){var o=a[t],s=e["padding-"+o];r[o]=Fr(s)}return r}function ut(e){var n=e.getBBox();return jr(0,0,n.width,n.height)}function st(e){var n=e.clientWidth,r=e.clientHeight;if(!n&&!r)return Bn;var t=ar(e).getComputedStyle(e),a=ot(t),o=a.left+a.right,s=a.top+a.bottom,c=Fr(t.width),f=Fr(t.height);if(t.boxSizing==="border-box"&&(Math.round(c+o)!==n&&(c-=_n(t,"left","right")+o),Math.round(f+s)!==r&&(f-=_n(t,"top","bottom")+s)),!ct(e)){var h=Math.round(c+o)-n,R=Math.round(f+s)-r;Math.abs(h)!==1&&(c-=h),Math.abs(R)!==1&&(f-=R)}return jr(a.left,a.top,c,f)}var lt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof ar(e).SVGGraphicsElement}:function(e){return e instanceof ar(e).SVGElement&&typeof e.getBBox=="function"}}();function ct(e){return e===ar(e).document.documentElement}function ft(e){return gn?lt(e)?ut(e):st(e):Bn}function dt(e){var n=e.x,r=e.y,t=e.width,a=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return Hn(s,{x:n,y:r,width:t,height:a,top:r,right:n+t,bottom:a+r,left:n}),s}function jr(e,n,r,t){return{x:e,y:n,width:r,height:t}}var vt=function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=jr(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=ft(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e}(),ht=function(){function e(n,r){var t=dt(r);Hn(this,{target:n,contentRect:t})}return e}(),mt=function(){function e(n,r,t){if(this.activeObservations_=[],this.observations_=new An,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=r,this.callbackCtx_=t}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof ar(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)||(r.set(n,new vt(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof ar(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)&&(r.delete(n),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&n.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,r=this.activeObservations_.map(function(t){return new ht(t.target,t.broadcastRect())});this.callback_.call(n,r,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$n=typeof WeakMap<"u"?new WeakMap:new An,Fn=function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=it.getInstance(),t=new mt(n,r,this);$n.set(this,t)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Fn.prototype[e]=function(){var n;return(n=$n.get(this))[e].apply(n,arguments)}});var gt=function(){return typeof $r.ResizeObserver<"u"?$r.ResizeObserver:Fn}(),He=new Map;function yt(e){e.forEach(function(n){var r,t=n.target;(r=He.get(t))===null||r===void 0||r.forEach(function(a){return a(t)})})}var jn=new gt(yt);function bt(e,n){He.has(e)||(He.set(e,new Set),jn.observe(e)),He.get(e).add(n)}function wt(e,n){He.has(e)&&(He.get(e).delete(n),He.get(e).size||(jn.unobserve(e),He.delete(e)))}var Mt=function(e){qn(r,e);var n=Vn(r);function r(){return On(this,r),n.apply(this,arguments)}return Gn(r,[{key:"render",value:function(){return this.props.children}}]),r}(i.Component);function Ct(e,n){var r=e.children,t=e.disabled,a=i.useRef(null),o=i.useRef(null),s=i.useContext(mn),c=typeof r=="function",f=c?r(a):r,h=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),R=!c&&i.isValidElement(f)&&Tn(f),g=R?xn(f):null,w=Ln(g,a),v=function(){var b;return dn(a.current)||(a.current&&In(a.current)==="object"?dn((b=a.current)===null||b===void 0?void 0:b.nativeElement):null)||dn(o.current)};i.useImperativeHandle(n,function(){return v()});var _=i.useRef(e);_.current=e;var D=i.useCallback(function(m){var b=_.current,T=b.onResize,E=b.data,H=m.getBoundingClientRect(),L=H.width,d=H.height,G=m.offsetWidth,I=m.offsetHeight,Y=Math.floor(L),ae=Math.floor(d);if(h.current.width!==Y||h.current.height!==ae||h.current.offsetWidth!==G||h.current.offsetHeight!==I){var ve={width:Y,height:ae,offsetWidth:G,offsetHeight:I};h.current=ve;var ie=G===Math.round(L)?L:G,oe=I===Math.round(d)?d:I,K=A(A({},ve),{},{offsetWidth:ie,offsetHeight:oe});s==null||s(K,m,E),T&&Promise.resolve().then(function(){T(K,m)})}},[]);return i.useEffect(function(){var m=v();return m&&!t&&bt(m,D),function(){return wt(m,D)}},[a.current,t]),i.createElement(Mt,{ref:o},R?i.cloneElement(f,{ref:w}):f)}var _t=i.forwardRef(Ct),Pt="rc-observer-key";function St(e,n){var r=e.children,t=typeof r=="function"?[r]:Kn(r);return t.map(function(a,o){var s=(a==null?void 0:a.key)||"".concat(Pt,"-").concat(o);return i.createElement(_t,bn({},e,{key:s,ref:o===0?n:void 0}),a)})}var wn=i.forwardRef(St);wn.Collection=Xn;const Rt=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function kt(e){var n=e.prefixCls,r=e.align,t=e.arrow,a=e.arrowPos,o=t||{},s=o.className,c=o.content,f=a.x,h=f===void 0?0:f,R=a.y,g=R===void 0?0:R,w=i.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var _=r.points[0],D=r.points[1],m=_[0],b=_[1],T=D[0],E=D[1];m===T||!["t","b"].includes(m)?v.top=g:m==="t"?v.top=0:v.bottom=0,b===E||!["l","r"].includes(b)?v.left=h:b==="l"?v.left=0:v.right=0}return i.createElement("div",{ref:w,className:tr("".concat(n,"-arrow"),s),style:v},c)}function Et(e){var n=e.prefixCls,r=e.open,t=e.zIndex,a=e.mask,o=e.motion;return a?i.createElement(Nn,bn({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var c=s.className;return i.createElement("div",{style:{zIndex:t},className:tr("".concat(n,"-mask"),c)})}):null}var zt=i.memo(function(e){var n=e.children;return n},function(e,n){return n.cache}),Dt=i.forwardRef(function(e,n){var r=e.popup,t=e.className,a=e.prefixCls,o=e.style,s=e.target,c=e.onVisibleChanged,f=e.open,h=e.keepDom,R=e.fresh,g=e.onClick,w=e.mask,v=e.arrow,_=e.arrowPos,D=e.align,m=e.motion,b=e.maskMotion,T=e.forceRender,E=e.getPopupContainer,H=e.autoDestroy,L=e.portal,d=e.zIndex,G=e.onMouseEnter,I=e.onMouseLeave,Y=e.onPointerEnter,ae=e.onPointerDownCapture,ve=e.ready,ie=e.offsetX,oe=e.offsetY,K=e.offsetR,_e=e.offsetB,U=e.onAlign,Pe=e.onPrepare,B=e.stretch,F=e.targetWidth,y=e.targetHeight,Be=typeof r=="function"?r():r,ue=f||h,$=(E==null?void 0:E.length)>0,M=i.useState(!E||!$),J=W(M,2),$e=J[0],ir=J[1];if(Ce(function(){!$e&&$&&s&&ir(!0)},[$e,$,s]),!$e)return null;var he="auto",Q={left:"-1000vw",top:"-1000vh",right:he,bottom:he};if(ve||!f){var Ee,Fe=D.points,X=D.dynamicInset||((Ee=D._experimental)===null||Ee===void 0?void 0:Ee.dynamicInset),me=X&&Fe[0][1]==="r",se=X&&Fe[0][0]==="b";me?(Q.right=K,Q.left=he):(Q.left=ie,Q.right=he),se?(Q.bottom=_e,Q.top=he):(Q.top=oe,Q.bottom=he)}var O={};return B&&(B.includes("height")&&y?O.height=y:B.includes("minHeight")&&y&&(O.minHeight=y),B.includes("width")&&F?O.width=F:B.includes("minWidth")&&F&&(O.minWidth=F)),f||(O.pointerEvents="none"),i.createElement(L,{open:T||ue,getContainer:E&&function(){return E(s)},autoDestroy:H},i.createElement(Et,{prefixCls:a,open:f,zIndex:d,mask:w,motion:b}),i.createElement(wn,{onResize:U,disabled:!f},function(or){return i.createElement(Nn,bn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(a,"-hidden")},m,{onAppearPrepare:Pe,onEnterPrepare:Pe,visible:f,onVisibleChanged:function(p){var ge;m==null||(ge=m.onVisibleChanged)===null||ge===void 0||ge.call(m,p),c(p)}}),function(ze,p){var ge=ze.className,je=ze.style,j=tr(a,ge,t);return i.createElement("div",{ref:Un(or,n,p),className:j,style:A(A(A(A({"--arrow-x":"".concat(_.x||0,"px"),"--arrow-y":"".concat(_.y||0,"px")},Q),O),je),{},{boxSizing:"border-box",zIndex:d},o),onMouseEnter:G,onMouseLeave:I,onPointerEnter:Y,onClick:g,onPointerDownCapture:ae},v&&i.createElement(kt,{prefixCls:a,arrow:v,arrowPos:_,align:D}),i.createElement(zt,{cache:!f&&!R},Be))})}))}),Tt=i.forwardRef(function(e,n){var r=e.children,t=e.getTriggerDOMNode,a=Tn(r),o=i.useCallback(function(c){Jn(n,t?t(c):c)},[t]),s=Ln(o,xn(r));return a?i.cloneElement(r,{ref:s}):r}),Pn=i.createContext(null);function Sn(e){return e?Array.isArray(e)?e:[e]:[]}function xt(e,n,r,t){return i.useMemo(function(){var a=Sn(r??n),o=Sn(t??n),s=new Set(a),c=new Set(o);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[s,c]},[e,n,r,t])}function Lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===n[0]:e[0]===n[0]&&e[1]===n[1]}function Nt(e,n,r,t){for(var a=r.points,o=Object.keys(e),s=0;s<o.length;s+=1){var c,f=o[s];if(Lt((c=e[f])===null||c===void 0?void 0:c.points,a,t))return"".concat(n,"-placement-").concat(f)}return""}function Rn(e,n,r,t){return n||(r?{motionName:"".concat(e,"-").concat(r)}:t?{motionName:t}:null)}function yr(e){return e.ownerDocument.defaultView}function yn(e){for(var n=[],r=e==null?void 0:e.parentElement,t=["hidden","scroll","clip","auto"];r;){var a=yr(r).getComputedStyle(r),o=a.overflowX,s=a.overflowY,c=a.overflow;[o,s,c].some(function(f){return t.includes(f)})&&n.push(r),r=r.parentElement}return n}function gr(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?n:e}function mr(e){return gr(parseFloat(e),0)}function kn(e,n){var r=A({},e);return(n||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var a=yr(t).getComputedStyle(t),o=a.overflow,s=a.overflowClipMargin,c=a.borderTopWidth,f=a.borderBottomWidth,h=a.borderLeftWidth,R=a.borderRightWidth,g=t.getBoundingClientRect(),w=t.offsetHeight,v=t.clientHeight,_=t.offsetWidth,D=t.clientWidth,m=mr(c),b=mr(f),T=mr(h),E=mr(R),H=gr(Math.round(g.width/_*1e3)/1e3),L=gr(Math.round(g.height/w*1e3)/1e3),d=(_-D-T-E)*H,G=(w-v-m-b)*L,I=m*L,Y=b*L,ae=T*H,ve=E*H,ie=0,oe=0;if(o==="clip"){var K=mr(s);ie=K*H,oe=K*L}var _e=g.x+ae-ie,U=g.y+I-oe,Pe=_e+g.width+2*ie-ae-ve-d,B=U+g.height+2*oe-I-Y-G;r.left=Math.max(r.left,_e),r.top=Math.max(r.top,U),r.right=Math.min(r.right,Pe),r.bottom=Math.min(r.bottom,B)}}),r}function En(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(n),t=r.match(/^(.*)\%$/);return t?e*(parseFloat(t[1])/100):parseFloat(r)}function zn(e,n){var r=n||[],t=W(r,2),a=t[0],o=t[1];return[En(e.width,a),En(e.height,o)]}function Dn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function nr(e,n){var r=n[0],t=n[1],a,o;return r==="t"?o=e.y:r==="b"?o=e.y+e.height:o=e.y+e.height/2,t==="l"?a=e.x:t==="r"?a=e.x+e.width:a=e.x+e.width/2,{x:a,y:o}}function Ae(e,n){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(t,a){return a===n?r[t]||"c":t}).join("")}function Wt(e,n,r,t,a,o,s){var c=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[t]||{}}),f=W(c,2),h=f[0],R=f[1],g=i.useRef(0),w=i.useMemo(function(){return n?yn(n):[]},[n]),v=i.useRef({}),_=function(){v.current={}};e||_();var D=Qe(function(){if(n&&r&&e){let te=function(rr,Ne){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:br,hr=M.x+rr,Ar=M.y+Ne,sn=hr+me,ln=Ar+X,cn=Math.max(hr,We.left),u=Math.max(Ar,We.top),l=Math.min(sn,We.right),k=Math.min(ln,We.bottom);return Math.max(0,(l-cn)*(k-u))},Wr=function(){Ge=M.y+S,Ie=Ge+X,Re=M.x+C,Ye=Re+me};var T,E,H,L,d=n,G=d.ownerDocument,I=yr(d),Y=I.getComputedStyle(d),ae=Y.width,ve=Y.height,ie=Y.position,oe=d.style.left,K=d.style.top,_e=d.style.right,U=d.style.bottom,Pe=d.style.overflow,B=A(A({},a[t]),o),F=G.createElement("div");(T=d.parentElement)===null||T===void 0||T.appendChild(F),F.style.left="".concat(d.offsetLeft,"px"),F.style.top="".concat(d.offsetTop,"px"),F.style.position=ie,F.style.height="".concat(d.offsetHeight,"px"),F.style.width="".concat(d.offsetWidth,"px"),d.style.left="0",d.style.top="0",d.style.right="auto",d.style.bottom="auto",d.style.overflow="hidden";var y;if(Array.isArray(r))y={x:r[0],y:r[1],width:0,height:0};else{var Be,ue,$=r.getBoundingClientRect();$.x=(Be=$.x)!==null&&Be!==void 0?Be:$.left,$.y=(ue=$.y)!==null&&ue!==void 0?ue:$.top,y={x:$.x,y:$.y,width:$.width,height:$.height}}var M=d.getBoundingClientRect();M.x=(E=M.x)!==null&&E!==void 0?E:M.left,M.y=(H=M.y)!==null&&H!==void 0?H:M.top;var J=G.documentElement,$e=J.clientWidth,ir=J.clientHeight,he=J.scrollWidth,Q=J.scrollHeight,Ee=J.scrollTop,Fe=J.scrollLeft,X=M.height,me=M.width,se=y.height,O=y.width,or={left:0,top:0,right:$e,bottom:ir},ze={left:-Fe,top:-Ee,right:he-Fe,bottom:Q-Ee},p=B.htmlRegion,ge="visible",je="visibleFirst";p!=="scroll"&&p!==je&&(p=ge);var j=p===je,qr=kn(ze,w),P=kn(or,w),br=p===ge?P:qr,qe=j?P:br;d.style.left="auto",d.style.top="auto",d.style.right="0",d.style.bottom="0";var q=d.getBoundingClientRect();d.style.left=oe,d.style.top=K,d.style.right=_e,d.style.bottom=U,d.style.overflow=Pe,(L=d.parentElement)===null||L===void 0||L.removeChild(F);var De=gr(Math.round(me/parseFloat(ae)*1e3)/1e3),Se=gr(Math.round(X/parseFloat(ve)*1e3)/1e3);if(De===0||Se===0||vn(r)&&!Qn(r))return;var Vr=B.offset,Or=B.targetOffset,wr=zn(M,Vr),le=W(wr,2),ce=le[0],ee=le[1],Gr=zn(y,Or),Ve=W(Gr,2),re=Ve[0],Te=Ve[1];y.x-=re,y.y-=Te;var Ir=B.points||[],Mr=W(Ir,2),Kr=Mr[0],Ur=Mr[1],ye=Dn(Ur),Z=Dn(Kr),ur=nr(y,ye),V=nr(M,Z),xe=A({},B),C=ur.x-V.x+ce,S=ur.y-V.y+ee,fe=te(C,S),Oe=te(C,S,P),sr=nr(y,["t","l"]),ne=nr(M,["t","l"]),Cr=nr(y,["b","r"]),lr=nr(M,["b","r"]),Le=B.overflow||{},_r=Le.adjustX,Jr=Le.adjustY,cr=Le.shiftX,Ze=Le.shiftY,fr=function(Ne){return typeof Ne=="boolean"?Ne:Ne>=0},Ge,Ie,Re,Ye;Wr();var Ke=fr(Jr),Pr=Z[0]===ye[0];if(Ke&&Z[0]==="t"&&(Ie>qe.bottom||v.current.bt)){var N=S;Pr?N-=X-se:N=sr.y-lr.y-ee;var Sr=te(C,N),Qr=te(C,N,P);Sr>fe||Sr===fe&&(!j||Qr>=Oe)?(v.current.bt=!0,S=N,ee=-ee,xe.points=[Ae(Z,0),Ae(ye,0)]):v.current.bt=!1}if(Ke&&Z[0]==="b"&&(Ge<qe.top||v.current.tb)){var Ue=S;Pr?Ue+=X-se:Ue=Cr.y-ne.y-ee;var Rr=te(C,Ue),Zr=te(C,Ue,P);Rr>fe||Rr===fe&&(!j||Zr>=Oe)?(v.current.tb=!0,S=Ue,ee=-ee,xe.points=[Ae(Z,0),Ae(ye,0)]):v.current.tb=!1}var kr=fr(_r),Er=Z[1]===ye[1];if(kr&&Z[1]==="l"&&(Ye>qe.right||v.current.rl)){var Je=C;Er?Je-=me-O:Je=sr.x-lr.x-ce;var zr=te(Je,S),Xe=te(Je,S,P);zr>fe||zr===fe&&(!j||Xe>=Oe)?(v.current.rl=!0,C=Je,ce=-ce,xe.points=[Ae(Z,1),Ae(ye,1)]):v.current.rl=!1}if(kr&&Z[1]==="r"&&(Re<qe.left||v.current.lr)){var ke=C;Er?ke+=me-O:ke=Cr.x-ne.x-ce;var Dr=te(ke,S),Tr=te(ke,S,P);Dr>fe||Dr===fe&&(!j||Tr>=Oe)?(v.current.lr=!0,C=ke,ce=-ce,xe.points=[Ae(Z,1),Ae(ye,1)]):v.current.lr=!1}Wr();var be=cr===!0?0:cr;typeof be=="number"&&(Re<P.left&&(C-=Re-P.left-ce,y.x+O<P.left+be&&(C+=y.x-P.left+O-be)),Ye>P.right&&(C-=Ye-P.right-ce,y.x>P.right-be&&(C+=y.x-P.right+be)));var de=Ze===!0?0:Ze;typeof de=="number"&&(Ge<P.top&&(S-=Ge-P.top-ee,y.y+se<P.top+de&&(S+=y.y-P.top+se-de)),Ie>P.bottom&&(S-=Ie-P.bottom-ee,y.y>P.bottom-de&&(S+=y.y-P.bottom+de)));var pe=M.x+C,er=pe+me,we=M.y+S,Yr=we+X,xr=y.x,Xr=xr+O,dr=y.y,pr=dr+se,en=Math.max(pe,xr),rn=Math.min(er,Xr),Lr=(en+rn)/2,nn=Lr-pe,tn=Math.max(we,dr),Nr=Math.min(Yr,pr),an=(tn+Nr)/2,on=an-we;s==null||s(n,xe);var vr=q.right-M.x-(C+M.width),Me=q.bottom-M.y-(S+M.height);De===1&&(C=Math.round(C),vr=Math.round(vr)),Se===1&&(S=Math.round(S),Me=Math.round(Me));var un={ready:!0,offsetX:C/De,offsetY:S/Se,offsetR:vr/De,offsetB:Me/Se,arrowX:nn/De,arrowY:on/Se,scaleX:De,scaleY:Se,align:xe};R(un)}}),m=function(){g.current+=1;var E=g.current;Promise.resolve().then(function(){g.current===E&&D()})},b=function(){R(function(E){return A(A({},E),{},{ready:!1})})};return Ce(b,[t]),Ce(function(){e||b()},[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,m]}function At(e,n,r,t,a){Ce(function(){if(e&&n&&r){let g=function(){t(),a()};var o=n,s=r,c=yn(o),f=yn(s),h=yr(s),R=new Set([h].concat(Cn(c),Cn(f)));return R.forEach(function(w){w.addEventListener("scroll",g,{passive:!0})}),h.addEventListener("resize",g,{passive:!0}),t(),function(){R.forEach(function(w){w.removeEventListener("scroll",g),h.removeEventListener("resize",g)})}}},[e,n,r])}function Ht(e,n,r,t,a,o,s,c){var f=i.useRef(e);f.current=e;var h=i.useRef(!1);i.useEffect(function(){if(n&&t&&(!a||o)){var g=function(){h.current=!1},w=function(m){var b;f.current&&!s(((b=m.composedPath)===null||b===void 0||(b=b.call(m))===null||b===void 0?void 0:b[0])||m.target)&&!h.current&&c(!1)},v=yr(t);v.addEventListener("pointerdown",g,!0),v.addEventListener("mousedown",w,!0),v.addEventListener("contextmenu",w,!0);var _=hn(r);return _&&(_.addEventListener("mousedown",w,!0),_.addEventListener("contextmenu",w,!0)),function(){v.removeEventListener("pointerdown",g,!0),v.removeEventListener("mousedown",w,!0),v.removeEventListener("contextmenu",w,!0),_&&(_.removeEventListener("mousedown",w,!0),_.removeEventListener("contextmenu",w,!0))}}},[n,r,t,a,o]);function R(){h.current=!0}return R}var Bt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function $t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wn,n=i.forwardRef(function(r,t){var a=r.prefixCls,o=a===void 0?"rc-trigger-popup":a,s=r.children,c=r.action,f=c===void 0?"hover":c,h=r.showAction,R=r.hideAction,g=r.popupVisible,w=r.defaultPopupVisible,v=r.onPopupVisibleChange,_=r.afterPopupVisibleChange,D=r.mouseEnterDelay,m=r.mouseLeaveDelay,b=m===void 0?.1:m,T=r.focusDelay,E=r.blurDelay,H=r.mask,L=r.maskClosable,d=L===void 0?!0:L,G=r.getPopupContainer,I=r.forceRender,Y=r.autoDestroy,ae=r.destroyPopupOnHide,ve=r.popup,ie=r.popupClassName,oe=r.popupStyle,K=r.popupPlacement,_e=r.builtinPlacements,U=_e===void 0?{}:_e,Pe=r.popupAlign,B=r.zIndex,F=r.stretch,y=r.getPopupClassNameFromAlign,Be=r.fresh,ue=r.alignPoint,$=r.onPopupClick,M=r.onPopupAlign,J=r.arrow,$e=r.popupMotion,ir=r.maskMotion,he=r.popupTransitionName,Q=r.popupAnimation,Ee=r.maskTransitionName,Fe=r.maskAnimation,X=r.className,me=r.getTriggerDOMNode,se=Zn(r,Bt),O=Y||ae||!1,or=i.useState(!1),ze=W(or,2),p=ze[0],ge=ze[1];Ce(function(){ge(Rt())},[]);var je=i.useRef({}),j=i.useContext(Pn),qr=i.useMemo(function(){return{registerSubPopup:function(l,k){je.current[l]=k,j==null||j.registerSubPopup(l,k)}}},[j]),P=Yn(),br=i.useState(null),qe=W(br,2),q=qe[0],De=qe[1],Se=i.useRef(null),Vr=Qe(function(u){Se.current=u,vn(u)&&q!==u&&De(u),j==null||j.registerSubPopup(P,u)}),Or=i.useState(null),wr=W(Or,2),le=wr[0],ce=wr[1],ee=i.useRef(null),Gr=Qe(function(u){vn(u)&&le!==u&&(ce(u),ee.current=u)}),Ve=i.Children.only(s),re=(Ve==null?void 0:Ve.props)||{},Te={},Ir=Qe(function(u){var l,k,x=le;return(x==null?void 0:x.contains(u))||((l=hn(x))===null||l===void 0?void 0:l.host)===u||u===x||(q==null?void 0:q.contains(u))||((k=hn(q))===null||k===void 0?void 0:k.host)===u||u===q||Object.values(je.current).some(function(z){return(z==null?void 0:z.contains(u))||u===z})}),Mr=Rn(o,$e,Q,he),Kr=Rn(o,ir,Fe,Ee),Ur=i.useState(w||!1),ye=W(Ur,2),Z=ye[0],ur=ye[1],V=g??Z,xe=Qe(function(u){g===void 0&&ur(u)});Ce(function(){ur(g||!1)},[g]);var C=i.useRef(V);C.current=V;var S=i.useRef([]);S.current=[];var fe=Qe(function(u){var l;xe(u),((l=S.current[S.current.length-1])!==null&&l!==void 0?l:V)!==u&&(S.current.push(u),v==null||v(u))}),Oe=i.useRef(),sr=function(){clearTimeout(Oe.current)},ne=function(l){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;sr(),k===0?fe(l):Oe.current=setTimeout(function(){fe(l)},k*1e3)};i.useEffect(function(){return sr},[]);var Cr=i.useState(!1),lr=W(Cr,2),Le=lr[0],_r=lr[1];Ce(function(u){(!u||V)&&_r(!0)},[V]);var Jr=i.useState(null),cr=W(Jr,2),Ze=cr[0],fr=cr[1],Ge=i.useState(null),Ie=W(Ge,2),Re=Ie[0],Ye=Ie[1],Ke=function(l){Ye([l.clientX,l.clientY])},Pr=Wt(V,q,ue&&Re!==null?Re:le,K,U,Pe,M),N=W(Pr,11),Sr=N[0],Qr=N[1],Ue=N[2],Rr=N[3],Zr=N[4],kr=N[5],Er=N[6],Je=N[7],zr=N[8],Xe=N[9],ke=N[10],Dr=xt(p,f,h,R),Tr=W(Dr,2),be=Tr[0],de=Tr[1],pe=be.has("click"),er=de.has("click")||de.has("contextMenu"),we=Qe(function(){Le||ke()}),Yr=function(){C.current&&ue&&er&&ne(!1)};At(V,le,q,we,Yr),Ce(function(){we()},[Re,K]),Ce(function(){V&&!(U!=null&&U[K])&&we()},[JSON.stringify(Pe)]);var xr=i.useMemo(function(){var u=Nt(U,o,Xe,ue);return tr(u,y==null?void 0:y(Xe))},[Xe,y,U,o,ue]);i.useImperativeHandle(t,function(){return{nativeElement:ee.current,popupElement:Se.current,forceAlign:we}});var Xr=i.useState(0),dr=W(Xr,2),pr=dr[0],en=dr[1],rn=i.useState(0),Lr=W(rn,2),nn=Lr[0],tn=Lr[1],Nr=function(){if(F&&le){var l=le.getBoundingClientRect();en(l.width),tn(l.height)}},an=function(){Nr(),we()},on=function(l){_r(!1),ke(),_==null||_(l)},vr=function(){return new Promise(function(l){Nr(),fr(function(){return l})})};Ce(function(){Ze&&(ke(),Ze(),fr(null))},[Ze]);function Me(u,l,k,x){Te[u]=function(z){var Hr;x==null||x(z),ne(l,k);for(var fn=arguments.length,Mn=new Array(fn>1?fn-1:0),Br=1;Br<fn;Br++)Mn[Br-1]=arguments[Br];(Hr=re[u])===null||Hr===void 0||Hr.call.apply(Hr,[re,z].concat(Mn))}}(pe||er)&&(Te.onClick=function(u){var l;C.current&&er?ne(!1):!C.current&&pe&&(Ke(u),ne(!0));for(var k=arguments.length,x=new Array(k>1?k-1:0),z=1;z<k;z++)x[z-1]=arguments[z];(l=re.onClick)===null||l===void 0||l.call.apply(l,[re,u].concat(x))});var un=Ht(V,er,le,q,H,d,Ir,ne),te=be.has("hover"),Wr=de.has("hover"),rr,Ne;te&&(Me("onMouseEnter",!0,D,function(u){Ke(u)}),Me("onPointerEnter",!0,D,function(u){Ke(u)}),rr=function(l){(V||Le)&&q!==null&&q!==void 0&&q.contains(l.target)&&ne(!0,D)},ue&&(Te.onMouseMove=function(u){var l;(l=re.onMouseMove)===null||l===void 0||l.call(re,u)})),Wr&&(Me("onMouseLeave",!1,b),Me("onPointerLeave",!1,b),Ne=function(){ne(!1,b)}),be.has("focus")&&Me("onFocus",!0,T),de.has("focus")&&Me("onBlur",!1,E),be.has("contextMenu")&&(Te.onContextMenu=function(u){var l;C.current&&de.has("contextMenu")?ne(!1):(Ke(u),ne(!0)),u.preventDefault();for(var k=arguments.length,x=new Array(k>1?k-1:0),z=1;z<k;z++)x[z-1]=arguments[z];(l=re.onContextMenu)===null||l===void 0||l.call.apply(l,[re,u].concat(x))}),X&&(Te.className=tr(re.className,X));var We=A(A({},re),Te),hr={},Ar=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Ar.forEach(function(u){se[u]&&(hr[u]=function(){for(var l,k=arguments.length,x=new Array(k),z=0;z<k;z++)x[z]=arguments[z];(l=We[u])===null||l===void 0||l.call.apply(l,[We].concat(x)),se[u].apply(se,x)})});var sn=i.cloneElement(Ve,A(A({},We),hr)),ln={x:kr,y:Er},cn=J?A({},J!==!0?J:{}):null;return i.createElement(i.Fragment,null,i.createElement(wn,{disabled:!V,ref:Gr,onResize:an},i.createElement(Tt,{getTriggerDOMNode:me},sn)),i.createElement(Pn.Provider,{value:qr},i.createElement(Dt,{portal:e,ref:Vr,prefixCls:o,popup:ve,className:tr(ie,xr),style:oe,target:le,onMouseEnter:rr,onMouseLeave:Ne,onPointerEnter:rr,zIndex:B,open:V,keepDom:Le,fresh:Be,onClick:$,onPointerDownCapture:un,mask:H,motion:Mr,maskMotion:Kr,onVisibleChanged:on,onPrepare:vr,forceRender:I,autoDestroy:O,getPopupContainer:G,align:Xe,arrow:cn,arrowPos:ln,ready:Sr,offsetX:Qr,offsetY:Ue,offsetR:Rr,offsetB:Zr,onAlign:we,stretch:F,targetWidth:pr/Je,targetHeight:nn/zr})))});return n}const jt=$t(Wn);export{wn as R,jt as T,Rt as i};
