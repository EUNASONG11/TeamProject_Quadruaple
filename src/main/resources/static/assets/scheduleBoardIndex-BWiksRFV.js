import{u as v,a as b,r as t,j as e}from"./index-DI0hZm8z.js";import{T as w,I as d,B as $}from"./TitleHeader-mS6H-Tmw.js";import{G as m}from"./index-C3OAnkUv.js";import{a as y}from"./axios-upsvKRUO.js";import{P as k,T as S}from"./pic-Bp3CpqNF.js";import{S as I}from"./Skeleton-Ba0gCTAH.js";import{B as R}from"./button-Buf7o645.js";import"./iconBase-CKNMfARQ.js";import"./Keyframes-Czc1jmj8.js";const F=()=>{const i=v(),f=()=>{i(-1)},r=s=>{i(`/scheduleboard/scheduleDetail?tripId=${s.tripId}&TripReviewId=${s.tripReviewId}`)},h=b().state;console.log(h);const u=t.useRef(null),[n,o]=t.useState(0),[l,j]=t.useState([]),[c,N]=t.useState(1);t.useEffect(()=>{console.log("pageNumber",c)},[]),t.useEffect(()=>{console.log("여행기 배열",l)},[l]);const x=async(s="popular")=>{console.log("부르는 페이지:",c);try{const a=await y.get(`/api/trip-review/allTripReview?orderType=${s}&pageNumber=${c}`);console.log(`여행기 모두 불러오기 ${s}`,a.data);const p=a.data;j([...l,...p.data]),p.code==="200 성공"&&N(g=>g+1)}catch(a){console.log(`여행기 모두 불러오기 ${s}`,a)}};return t.useEffect(()=>{x()},[]),e.jsxs("div",{children:[e.jsx(w,{onClick:f,title:"여행기",icon:"back"}),e.jsxs("div",{className:"flex flex-col px-[32px]",children:[e.jsxs("div",{className:"flex justify-between items-center py-[30px]",children:[e.jsxs("ul",{className:"flex gap-[20px] items-center",children:[e.jsx("li",{children:e.jsx("button",{type:"button",value:0,className:`${n===0?"text-primary":"text-slate-300"}`,onClick:()=>{o(0),x("popular")},children:"• 추천순"})}),e.jsx("li",{children:e.jsx("button",{type:"button",value:1,className:`${n===1?"text-primary":"text-slate-300"}`,onClick:()=>{o(1),x("latest")},children:"• 최신순"})})]}),e.jsxs("p",{children:["총 ",l==null?void 0:l.length.toLocaleString(),"건"]})]}),e.jsx("ul",{className:"flex flex-col gap-[30px]",children:l?l==null?void 0:l.map((s,a)=>e.jsxs("li",{className:`flex flex-col gap-[20px] px-[30px] py-[30px] rounded-3xl\r
                        shadow-[0_0_10px_0_rgba(0,0,0,0.1)] cursor-pointer`,onClick:()=>r(s),children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-[10px]",children:[e.jsx("div",{className:"w-[50px] h-[50px] rounded-full overflow-hidden bg-slate-100",children:e.jsx("img",{src:`${k}${s.userId}/${s.profilePic}`,alt:""})}),e.jsx("p",{className:"font-semibold text-[18px] text-slate-700",children:s.name})]}),e.jsxs("ul",{className:"flex gap-[10px] items-center",children:[e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(m,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:s.likeCount})]}),e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(d,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:s.reviewCount.toLocaleString()})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsx("div",{className:"w-full h-[322px] bg-slate-200 rounded-2xl",children:e.jsx("img",{src:`${S}${s.tripReviewId}/${s.tripReviewPics[0]}`,alt:"여행기 사진",className:"w-full h-full object-cover",ref:u})}),e.jsx("h3",{className:"font-semibold text-[24px] text-slate-700",children:s.title}),e.jsx("p",{className:"text-[18px] text-slate-500 line-clamp-3",children:s.content})]})]},a)):e.jsxs("li",{className:`flex flex-col gap-[20px] px-[30px] py-[30px] rounded-3xl\r
                        shadow-[0_0_10px_0_rgba(0,0,0,0.1)] cursor-pointer`,onClick:()=>r(item),children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-[10px]",children:[e.jsx("div",{className:"w-[50px] h-[50px] rounded-full overflow-hidden",children:e.jsx(I.Avatar,{style:{width:"50px",height:"50px"}})}),e.jsx("p",{className:"font-semibold text-[18px] text-slate-700",children:"닉네임"})]}),e.jsxs("ul",{className:"flex gap-[10px] items-center",children:[e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx($,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:"조회수"})]}),e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(m,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:"좋아요"})]}),e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(d,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:"작성수"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsx("div",{className:"w-full h-[322px] bg-slate-200 rounded-2xl",children:e.jsx("img",{src:"",alt:"여행기 사진",className:"w-full h-full object-cover"})}),e.jsx("h3",{className:"font-semibold text-[24px] text-slate-700",children:"제목"}),e.jsx("p",{className:"text-[18px] text-slate-500 line-clamp-3",children:"1일차- 제주, 2일차-서귀포’ 함덕, 3일차-성산 기름값 4만원 태우며 렌터카로 알차게 돌아다님. 참고로 2박 3일간 제주 투어패스 48시간 끊었는데 강추!!2박 3일간 제주 투어패스 48시간 끊었는데 강추!!2박 3일간 제주..."})]})]})}),e.jsx("div",{className:"py-[20px]",children:e.jsx(R,{variant:"outlined",className:"w-full",onClick:()=>x(),children:"더보기"})})]})]})};export{F as default};
