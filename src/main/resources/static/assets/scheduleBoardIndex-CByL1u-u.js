import{a as C,b as S,r as t,j as e,c as N}from"./index-hzpou2jK.js";import{T as k,B as g}from"./TitleHeader-go6GWOTm.js";import{G as v}from"./index-DNX0lLmw.js";import{a as b}from"./axios-upsvKRUO.js";import{P as y,T as I}from"./pic-Bp3CpqNF.js";import{S as _}from"./Skeleton-D5qYhB57.js";import{B as E}from"./button-DcLLjFNX.js";import"./useSize-C_t0tW5w.js";const B=["popular","latest"],z=()=>{const p=C(),w=()=>{p(-1)},d=s=>{p(`/scheduleboard/scheduleDetail?tripId=${s.tripId}&TripReviewId=${s.tripReviewId}`)};S().state;const $=t.useRef(null),[i,m]=t.useState(0),[a,u]=t.useState([]),[o,P]=t.useState(0),[c,f]=t.useState(1),[h,j]=t.useState(1);t.useEffect(()=>{console.log("popularPageNumber",c)},[c]),t.useEffect(()=>{console.log("popularPageNumber",c)},[c]),t.useEffect(()=>{console.log("여행기 배열",a)},[a]);const r=async(s="popular")=>{s==="popular"&&console.log(`${s} 부르는 페이지:`,c),s==="latest"&&console.log(`${s} 부르는 페이지:`,h);try{const l=await b.get(`/api/trip-review/allTripReview?orderType=${s}&pageNumber=${s==="popular"?c:h}`);console.log(`여행기 모두 불러오기 ${s}`,l.data);const x=l.data;u([...a,...x.data]),x.code==="200 성공"&&(s==="popular"?f(n=>n+1):j(n=>n+1))}catch(l){console.log(`여행기 모두 불러오기 ${s}`,l)}},R=async()=>{try{const s=await b.get("/api/trip-review/allTripReviewCount");console.log(s.data);const l=s.data;P(l.data)}catch(s){console.log("여행기 개수",s)}};return t.useEffect(()=>{r(),R()},[]),t.useEffect(()=>{u([])},[i]),e.jsxs("div",{children:[e.jsx(k,{onClick:w,title:"여행기",icon:"back"}),e.jsxs("div",{className:"flex flex-col px-[32px]",children:[e.jsxs("div",{className:"flex justify-between items-center py-[30px]",children:[e.jsxs("ul",{className:"flex gap-[20px] items-center",children:[e.jsx("li",{children:e.jsx("button",{type:"button",value:0,className:`${i===0?"text-primary":"text-slate-300"}`,onClick:()=>{m(0),j(1),r("popular")},children:"• 추천순"})}),e.jsx("li",{children:e.jsx("button",{type:"button",value:1,className:`${i===1?"text-primary":"text-slate-300"}`,onClick:()=>{m(1),f(1),r("latest")},children:"• 최신순"})})]}),e.jsxs("p",{children:["총 ",o==null?void 0:o.toLocaleString(),"건"]})]}),e.jsx("ul",{className:"flex flex-col gap-[30px]",children:a?a==null?void 0:a.map((s,l)=>{var x;return e.jsxs("li",{className:`flex flex-col gap-[20px] px-[30px] py-[30px] rounded-3xl\r
                        shadow-[0_0_10px_0_rgba(0,0,0,0.1)] cursor-pointer`,onClick:()=>d(s),children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-[10px]",children:[e.jsx("div",{className:"w-[50px] h-[50px] rounded-full overflow-hidden bg-slate-100",children:e.jsx("img",{src:`${y}${s.userId}/${s.profilePic}`,alt:"유저 프로필",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"font-semibold text-[18px] text-slate-700",children:s.name})]}),e.jsxs("ul",{className:"flex gap-[10px] items-center",children:[e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(g,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:s.recentCount})]}),e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(v,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:s.likeCount})]}),e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(N,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:(x=s.scrapCount)==null?void 0:x.toLocaleString()})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsx("div",{className:"w-full h-[322px] bg-slate-200 rounded-2xl overflow-hidden",children:e.jsx("img",{src:s.tripReviewPics!==null?`${I}${s.tripReviewId}/${s.tripReviewPics[0]}`:"",alt:"여행기 사진",className:"w-full h-full object-cover",ref:$})}),e.jsx("h3",{className:"font-semibold text-[24px] text-slate-700",children:s.title}),e.jsx("p",{className:"text-[18px] text-slate-500 line-clamp-3",children:s.content})]})]},l)}):e.jsxs("li",{className:`flex flex-col gap-[20px] px-[30px] py-[30px] rounded-3xl\r
                        shadow-[0_0_10px_0_rgba(0,0,0,0.1)] cursor-pointer`,onClick:()=>d(item),children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-[10px]",children:[e.jsx("div",{className:"w-[50px] h-[50px] rounded-full overflow-hidden",children:e.jsx(_.Avatar,{style:{width:"50px",height:"50px"}})}),e.jsx("p",{className:"font-semibold text-[18px] text-slate-700",children:"닉네임"})]}),e.jsxs("ul",{className:"flex gap-[10px] items-center",children:[e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(g,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:"조회수"})]}),e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(v,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:"좋아요"})]}),e.jsxs("li",{className:"flex gap-[5px] items-center",children:[e.jsx(N,{className:"text-slate-300 text-[18px]"}),e.jsx("p",{className:"text-slate-500 font-bold text-[14px]",children:"작성수"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsx("div",{className:"w-full h-[322px] bg-slate-200 rounded-2xl",children:e.jsx("img",{src:"",alt:"여행기 사진",className:"w-full h-full object-cover"})}),e.jsx("h3",{className:"font-semibold text-[24px] text-slate-700",children:"제목"}),e.jsx("p",{className:"text-[18px] text-slate-500 line-clamp-3",children:"1일차- 제주, 2일차-서귀포’ 함덕, 3일차-성산 기름값 4만원 태우며 렌터카로 알차게 돌아다님. 참고로 2박 3일간 제주 투어패스 48시간 끊었는데 강추!!2박 3일간 제주 투어패스 48시간 끊었는데 강추!!2박 3일간 제주..."})]})]})}),e.jsx("div",{className:"py-[20px]  flex justify-center items-center",children:e.jsx(E,{variant:"outlined",className:"w-[100px] h-[40px] rounded-3xl",onClick:()=>r(B[i]),children:"더보기"})})]})]})};export{z as default};
